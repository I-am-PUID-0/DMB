{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"DMB - A Unified Media Solution <p> DMB is an all-in-one media management and streaming solution that integrates                  Riven, Zurg, Zilean, rclone, PostgreSQL, pgAdmin 4, and others into a single Docker image                  for streamlined deployment. It automates the process of                  finding, downloading, and organizing media content using                  Debrid Services, Plex Discover Watchlists, Trakt lists, Overseerr, and more,                  making content instantly available for streaming.             </p> \ud83d\ude80 So, what does all this do? <p>The DMB ecosystem is built on multiple underlying projects that work together to enable Plex streaming using Debrid Services. These include:</p> <ul> <li>\ud83d\udd39 Riven</li> <li>\ud83d\udd39 Zurg</li> <li>\ud83d\udd39 Zilean</li> <li>\ud83d\udd39 rclone</li> <li>\ud83d\udd39 PostgreSQL</li> <li>\ud83d\udd39 pgAdmin 4</li> </ul> <p>These projects work seamlessly with Plex Discover Watchlists, Trakt lists, Overseerr, and more to streamline media discovery and access.</p> \ud83d\udee0\ufe0f So, what does DMB do? <ul> <li> Unified Deployment \u2013 DMB integrates Riven, Zurg, Zilean, rclone, PostgreSQL, and pgAdmin 4 into a single Docker image for faster and simplified deployment.</li> <li> Automated Configuration \u2013 DMB eliminates the need for manual setup, ensuring a smooth and efficient media management experience.</li> <li> Web-Based UI \u2013 Take full control with an intuitive web interface, making it easy to manage downloads, track content, and interact with the various services.</li> </ul> <p>\ud83d\udccc For additional information, explore the other sections of the docs.</p>"},{"location":"changelog/","title":"Changelog","text":""},{"location":"changelog/#630-2025-03-18","title":"6.3.0 (2025-03-18)","text":""},{"location":"changelog/#-features","title":"\u2728 Features","text":"<ul> <li>api: add logging router and functionality to retrieve and filter service log files (90f5766)</li> </ul>"},{"location":"changelog/#620-2025-03-17","title":"6.2.0 (2025-03-17)","text":""},{"location":"changelog/#-features_1","title":"\u2728 Features","text":"<ul> <li>dmb_frontend: add release/branch/autoupdate functions for DMB Frontend (c18de38)</li> </ul>"},{"location":"changelog/#-bug-fixes","title":"\ud83d\udc1b Bug Fixes","text":"<ul> <li>auto_update: prevent infinite loop during shutdown in automatic update process (c13c075)</li> <li>workflow: update merged PRs to remove 'autorelease: pending' label and add 'autorelease: tagged' for all PRs (7a131f5)</li> </ul>"},{"location":"changelog/#618-2025-03-16","title":"6.1.8 (2025-03-16)","text":""},{"location":"changelog/#-bug-fixes_1","title":"\ud83d\udc1b Bug Fixes","text":"<ul> <li>user_management: enhance password setting by using LD_PRELOAD for better entropy (802af70)</li> <li>user_management: entropy for arc4random when using python secrets on synology host (820b4ae), closes #106</li> <li>user_management: securely hash user passwords using OpenSSL (1949460)</li> <li>workflow: enable provenance for Docker image builds (8c71c8f)</li> <li>workflow: enable sbom for Docker image builds (3453b9e)</li> </ul>"},{"location":"changelog/#-other-changes","title":"\ud83e\udd21 Other Changes","text":"<ul> <li>CODEOWNERS: add user as code owner for repository (ebc6936)</li> </ul>"},{"location":"changelog/#617-2025-03-14","title":"6.1.7 (2025-03-14)","text":""},{"location":"changelog/#-bug-fixes_2","title":"\ud83d\udc1b Bug Fixes","text":"<ul> <li>Dockerfile: comment out on_library_update in config.yml to disable automatic script execution (25b897c)</li> <li>fetch-latest-tags: use restore-keys (eb2a6b2)</li> <li>logger: file handling in CustomRotatingFileHandler to prevent reentrant call (6f91ab8), closes #104</li> <li>process-handler: improve process wait handling and logging for non-existent processes (7dd5352)</li> <li>workflow: add conditional for fetch-latest-tags job based on workflow dispatch and merged PR title (cc257f0)</li> </ul>"},{"location":"changelog/#616-2025-03-07","title":"6.1.6 (2025-03-07)","text":""},{"location":"changelog/#-documentation","title":"\ud83d\udcd6 Documentation","text":"<ul> <li>docker-compose: update (5418722)</li> </ul>"},{"location":"changelog/#-refactors","title":"\ud83d\udee0\ufe0f Refactors","text":"<ul> <li>devcontainer: update to pull latest image (02ba0d2)</li> <li>dmb_config: remove additional rclone instances not yet supported (a2edd21)</li> </ul>"},{"location":"changelog/#615-2025-03-07","title":"6.1.5 (2025-03-07)","text":""},{"location":"changelog/#-documentation_1","title":"\ud83d\udcd6 Documentation","text":"<ul> <li>changelog: update changelog (f4891ee)</li> <li>readme: update image tag (1a0413b)</li> </ul>"},{"location":"changelog/#614-2025-03-07","title":"6.1.4 (2025-03-07)","text":""},{"location":"changelog/#-documentation_2","title":"\ud83d\udcd6 Documentation","text":"<ul> <li>readme: RIVEN_FRONTEND_ENV_ORIGIN (65f10d2)</li> </ul>"},{"location":"changelog/#-refactors_1","title":"\ud83d\udee0\ufe0f Refactors","text":"<ul> <li>dockerfile: update dmb-frontend-builder to use repo tag (b747bf8)</li> <li>fetch-latest-tags: change cron job to run every 3 hours (6068fc0)</li> </ul>"},{"location":"changelog/#610---2025-03-03-","title":"[6.1.0] - 2025-03-03 \ud83d\ude80","text":""},{"location":"changelog/#-features_2","title":"\u2728 Features","text":"<ul> <li>feat(riven_backend): add port assignment</li> <li>feat(riven_frontend): add port assignment</li> <li>feat(zilean): add port assignment</li> </ul>"},{"location":"changelog/#-bug-fixes_3","title":"\ud83d\udc1b Bug Fixes","text":"<ul> <li>fix(dockerfile): set pnpm store local to each project w/ <code>store-dir=./.pnpm-store in .npmrc</code></li> <li>fix(versions): version_check &amp; version_write use key vs. process_name</li> <li>fix(qemu): Set <code>cache-image: false</code></li> <li>fix(postgres): re-add pgAgent</li> <li>fix(postgres): system_stats, paths, permissions</li> <li>fix(postgres): <code>locales &amp;&amp; locale-gen en_US.UTF-8</code> added to dockerfile</li> <li>fix(dockerfile): pgadmin-builder venv path</li> <li>fix(healthcheck): update <code>/healthcheck/running_processes.json</code></li> <li>fix(setup): resolved missing argument for setup of branch_enabled</li> <li>fix(postgres): <code>check_postgresql_started</code> updated port used when not default</li> <li>fix(user_management): add auto-generated user password to support use of su by default user</li> <li>fix(clear_directory): always exclude venv directory if present</li> <li>fix(find_service_config): recursive search</li> <li>fix(find_schema): recursive search</li> <li>fix(save_config_file): yaml.dump</li> <li>fix(api_state): api status update</li> </ul>"},{"location":"changelog/#-cicd-pipeline","title":"\ud83d\ude80 CI/CD Pipeline","text":"<ul> <li>ci(github): update push event configuration in Docker image workflow</li> <li>ci(github): add release-please, fetch-latest-tags, conventional-commits</li> <li>ci(devcontainer): add dns configuration and git path</li> <li>ci(docker-image): add job summary for build</li> </ul>"},{"location":"changelog/#-refactors_2","title":"\ud83d\udee0\ufe0f Refactors","text":"<ul> <li>refactor(dockerfile): change base image to Ubuntu 24.04</li> <li>refactor(dmb_config): dynamic update of the <code>ConnectionString</code> for zilean</li> <li>refactor(dmb_config): add <code>ORIGIN</code> to riven_frontend</li> <li>refactor(dockerfile): pull dmb_frontend from @nicocapalbo repo</li> <li>refactor(base): removed base module, add imports to modules</li> <li>refactor(dmb_config): removed riven_backend default envs</li> <li>refactor(dockerfile): pin pnpm version 10.x <code>npm install -g pnpm@latest-10</code></li> <li>refactor(dockerfile): pin node version 23.x <code>curl -fsSL https://deb.nodesource.com/setup_23.x | bash -</code></li> <li>refactor(main): add version.txt file</li> <li>refactor(api_service): on_event moved to lifespan</li> </ul>"},{"location":"changelog/#-other-changes_1","title":"\ud83e\udd21 Other Changes","text":"<ul> <li>chore(deps): bump actions/checkout from 3 to 4</li> </ul>"},{"location":"changelog/#601---2025-01-09-","title":"[6.0.1] - 2025-01-09 \ud83d\ude80","text":""},{"location":"changelog/#fixed-","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Zurg: download</li> </ul>"},{"location":"changelog/#600---2025-01-09-","title":"[6.0.0] - 2025-01-09 \ud83d\ude80","text":""},{"location":"changelog/#breaking-changes-","title":"Breaking Changes \u26a0\ufe0f","text":"<ul> <li>DO NOT UPDATE UNTIL YOU HAVE REVIEWED THE CHANGES!</li> <li>Changed most, if not all, environment variables - new dmb_config.json - see Notes</li> </ul>"},{"location":"changelog/#changed-","title":"Changed \ud83d\udd04","text":"<ul> <li>Refactor: EVERYTHING!</li> <li>Refactor: Improved shutdown process execution time</li> <li>Issue #80 FastAPI - Add real time logs view</li> <li>Issue #83 FastAPI - Update healthcheck</li> </ul>"},{"location":"changelog/#fixed-_1","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>PostgreSQL: Retry logic during server startup</li> <li>PostgreSQL: Init all databases on the first run - prevents Zilean and Riven database issues on the first run</li> <li>PostgreSQL: automatically remove postmaster.pid file retained from an improper shutdown</li> </ul>"},{"location":"changelog/#added-","title":"Added \u2728","text":"<ul> <li>Config: Added dmb_config.json to the <code>/config</code> directory for complete control over DMB</li> <li>Riven: Added init function for first run of Riven Backend - mitigates first run startup issues</li> <li>Zurg: Unlimited simultaneous deployments of Zurg - simply add another Zurg \"instance\" in the dmb_config.json</li> <li>rclone: Unlimited simultaneous deployments of rclone - simply add another rclone \"instance\" in the dmb_config.json</li> <li>rclone: More robust stale mount handling</li> <li>PostgreSQL: Any setting within the postgresql.conf can be set from within the dmb_config.json</li> </ul>"},{"location":"changelog/#removed","title":"Removed","text":"<ul> <li>rclone: Removed NFS mounts for now</li> <li>Duplicate Cleanup: Removed for now</li> </ul>"},{"location":"changelog/#notes-","title":"Notes \ud83d\udcdd","text":"<ul> <li>A dmb_config.json has been added to DMB to allow for more granular control over the processes within and configuration of DMB.</li> <li>DMB will respect and prioritize variables provided though environment variables, a .env file, docker secrets, and the dmb_config.json</li> <li>environment variables, a .env file, and docker secrets are held at the same level and will override any setting in the dmb_config.json</li> <li>DMB will now come pre-configured to run all processes once at least one debrid service API key is entered through any of the above mentioned methods</li> <li>Multiple simultaneous debrid services are not currently supported for Riven</li> <li>Zurg currently only supports RealDebrid</li> </ul>"},{"location":"changelog/#545---2024-11-22-","title":"[5.4.5] - 2024-11-22 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_2","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>PR #88 Zilean: Add database connection timeouts \ud83d\udc1b - Thanks @skeet70 \ud83d\ude4f</li> </ul>"},{"location":"changelog/#544---2024-11-16-","title":"[5.4.4] - 2024-11-16 \ud83d\ude80","text":""},{"location":"changelog/#changed-_1","title":"Changed \ud83d\udd04","text":"<ul> <li>Zilean: Update to dotnet 9 \ud83d\udd04</li> <li>Zilean: Update to support both Zilean.Scraper &amp; Zilean.DmmScraper for older version of Zilean \ud83d\udd04</li> </ul>"},{"location":"changelog/#notes-_1","title":"Notes \ud83d\udcdd","text":"<ul> <li>Zilean: Only Zilean v2.1.0 and newer are supported due to dotnet update to version 9 \ud83d\udea8</li> </ul>"},{"location":"changelog/#543---2024-11-01-","title":"[5.4.3] - 2024-11-01 \ud83d\ude80","text":""},{"location":"changelog/#changed-_2","title":"Changed \ud83d\udd04","text":"<ul> <li>Riven Frontend: Updated the name and location of the <code>server-config.json</code> file to <code>server.json</code> and to be transferred to the /riven/frontend/config directory on startup \ud83d\udd04</li> <li>Re-enabled reaping of zombie processes \ud83d\udd04</li> </ul>"},{"location":"changelog/#542---2024-10-29-","title":"[5.4.2] - 2024-10-29 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_3","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Issue #72 Zilean Permissions Issue \ud83d\udc1b</li> </ul>"},{"location":"changelog/#541---2024-10-28-","title":"[5.4.1] - 2024-10-28 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_4","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Issue #71 PostgreSQL Graceful Shutdown \ud83d\udc1b</li> </ul>"},{"location":"changelog/#540---2024-10-25-","title":"[5.4.0] - 2024-10-25 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_5","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Issue #14 Add Riven build process to Dockerfile \u2728</li> <li>Issue #65 Zilean Enabled when ZILEAN_ENABLED=false \ud83d\udc1b</li> <li>Issue #66 Dockerfile pulls from Riven Frontend main branch vs. latest release \ud83d\udc1b</li> <li>Issue #67 Future releases for Riven Frontend and Backend will require an API Key \ud83d\udc1b</li> </ul>"},{"location":"changelog/#added-_1","title":"Added \u2728","text":"<ul> <li>Riven Backend: Added the Riven backend build process to the Dockerfile \ud83d\udce6</li> <li>Riven Frontend: Added the server-config.json to the be saved in /config and transferred to the Riven Frontend when using the API key \ud83d\udce6</li> <li>Zilean: Added the Zilean build process to the Dockerfile \ud83d\udce6</li> </ul>"},{"location":"changelog/#changed-_3","title":"Changed \ud83d\udd04","text":"<ul> <li>Riven Backend: Settings are now loaded with or without the API key depending on the version of Riven used \ud83d\udd04</li> <li>Refactor: Refactored the utils and version checks \ud83d\udd04</li> <li>Utils: Added description to reaped processes \ud83d\udd04</li> <li>Logging: Added thread lock to rollover \ud83d\udd04</li> </ul>"},{"location":"changelog/#notes-_2","title":"Notes \ud83d\udcdd","text":"<ul> <li>Future releases for Riven Frontend and Backend will require an API Key to be set \ud83d\udea8</li> <li>With these changes, you can now use the latest development versions of Riven Frontend and Backend \ud83c\udf19</li> <li>Use the RIVEN_BACKEND_BRANCH=release-please--branches--main and RIVEN_FRONTEND_BRANCH=release-please--branches--main environment variables to test the current development versions of Riven \ud83c\udf19</li> </ul>"},{"location":"changelog/#532---2024-10-18-","title":"[5.3.2] - 2024-10-18 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_6","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Issue #60 Does not correctly handle deleted files in new Riven releases \ud83d\udc1b</li> <li>Issue #61 Riven Backend v0.16.0 Broke Settings Update \ud83d\udc1b</li> <li>Issue #62 Riven Frontend v0.14.0 Broke VersionFilePath \ud83d\udc1b</li> <li>Issue #63 Riven Frontend v0.16.0 Broke Frontend Build \ud83d\udc1b - This may be a temporary fix...</li> </ul>"},{"location":"changelog/#531---2024-10-15-","title":"[5.3.1] - 2024-10-15 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_7","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Issue #59 Zombie dotnet Processes Accumulating Over Time \ud83d\udc1b</li> </ul>"},{"location":"changelog/#530---2024-10-03-","title":"[5.3.0] - 2024-10-03 \ud83d\ude80","text":""},{"location":"changelog/#added-_2","title":"Added \u2728","text":"<ul> <li>pgAdmin 4: Added system_stats extension to pgAdmin 4 for host system monitoring \ud83d\udce6</li> <li>pgAdmin 4: Added pgAgent extension to pgAdmin 4 for job scheduling \ud83d\udce6</li> </ul>"},{"location":"changelog/#fixed-_8","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>pgAdmin 4: Fixed the pgAdmin 4 config_local.py SSL settings \ud83d\udc1b</li> </ul>"},{"location":"changelog/#changed-_4","title":"Changed \ud83d\udd04","text":"<ul> <li>RIVEN_BACKEND_URL: Linked to the Riven backend load_settings function. PR #57 Thanks @FunkeCoder23 \ud83d\ude4f</li> </ul>"},{"location":"changelog/#520---2024-10-01-","title":"[5.2.0] - 2024-10-01 \ud83d\ude80","text":""},{"location":"changelog/#added-_3","title":"Added \u2728","text":"<ul> <li>pgAdmin 4: Added pgAdmin 4 to the DMB image for PostgreSQL management \ud83d\udce6 - Resolves Issue #49</li> </ul>"},{"location":"changelog/#notes-_3","title":"Notes \ud83d\udcdd","text":"<ul> <li>pgAdmin 4 is enabled by setting the <code>PGADMIN_SETUP_EMAIL</code> and <code>PGADMIN_SETUP_PASSWORD</code> environment variables \ud83c\udd94\ud83d\udd10</li> <li>The DMB PostgreSQL server is automatically added to pgAdmin4 Servers\ud83d\uddc4\ufe0f</li> <li>On the first access of pgAdmin 4, the DMB PostgreSQL server password will need to be set in pgAdmin 4 \ud83d\uddc4\ufe0f - the default PostgreSQL server password is <code>postgres</code> or set with <code>POSTGRES_PASSWORD</code> \ud83d\udd10</li> <li>To access pgAdmin 4, navigate to <code>http://&lt;DMB_IP&gt;:5050</code> in your browser \ud83c\udf10</li> <li>The pgAdmin 4 data is stored in the <code>/pgadmin/data</code> directory - though, not required to mounted to the host \ud83d\udcc1</li> <li>The pgAdmin 4 config_local.py is stored in the <code>/pgadmin/data</code> directory and symlinked at startup \ud83d\udcdd - review the pgAdmin 4 documentation for additional configuration options \ud83d\udcda</li> <li>Backups of the PostgreSQL database can be made using pgAdmin 4 and are stored in the <code>/pgadmin/storage</code> directory \ud83d\uddc4\ufe0f</li> <li>The following message can be ignored on initial startup: <code>ERROR - PostgreSQL subprocess: relation \"version\" does not exist at character 75</code></li> </ul>"},{"location":"changelog/#5110---2024-09-24-","title":"[5.1.10] - 2024-09-24 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_9","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>logger: Fixed obfuscation of sensitive data in logs \ud83d\udc1b</li> </ul>"},{"location":"changelog/#519---2024-09-23-","title":"[5.1.9] - 2024-09-23 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_10","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Riven Backend: Enabled not set to <code>true</code> for applied subordinate dictionary values - seriously this time \ud83d\udc1b</li> <li>Riven Frontend: Set the default path for the frontend version.txt in dockerfile \ud83d\udc1b</li> <li>Issue #54 An error occurred in the Zilean setup: 'NoneType' object has no attribute 'lower'</li> </ul>"},{"location":"changelog/#518---2024-09-23-","title":"[5.1.8] - 2024-09-23 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_11","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Riven Backend: Enabled not set to <code>true</code> for applied subordinate dictionary values \ud83d\udc1b</li> </ul>"},{"location":"changelog/#517---2024-09-23-","title":"[5.1.7] - 2024-09-23 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_12","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Issue #40 Postgres. role \"root\" does not exist. \ud83d\udc1b - Thanks @lukemuller \ud83d\ude4f</li> </ul>"},{"location":"changelog/#added-_4","title":"Added \u2728","text":"<ul> <li>Riven Backend: Added the use of .env file for Riven backend settings \ud83d\udcdd</li> </ul>"},{"location":"changelog/#changed-_5","title":"Changed \ud83d\udd04","text":"<ul> <li>Main Process: Refactored the main process to handle exceptions - graceful shutdown \ud83d\udd04</li> <li>Logger: Clean up logging \ud83d\udcdd</li> <li>Riven Backend: DEBUG is now linked to the DMB_LOG_LEVEL \ud83d\udd04</li> </ul>"},{"location":"changelog/#notes-_4","title":"Notes \ud83d\udcdd","text":"<ul> <li>To use the .env file for Riven backend settings, create a .env file in the Riven data directory with settings in the format of <code>KEY=VALUE</code> as shown in the env.example\ud83d\udcdd</li> </ul>"},{"location":"changelog/#516---2024-09-13-","title":"[5.1.6] - 2024-09-13 \ud83d\ude80","text":""},{"location":"changelog/#changed-_6","title":"Changed \ud83d\udd04","text":"<ul> <li>Riven Frontend: Set the default path for the frontend version.txt to /riven/frontend \ud83d\udd04</li> </ul>"},{"location":"changelog/#515---2024-09-13-","title":"[5.1.5] - 2024-09-13 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_13","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Riven Frontend: Fixed the default DIALECT set for node build process \ud83d\udc1b</li> <li>Riven Frontend: Set the default path for the frontend version.txt \ud83d\udc1b</li> </ul>"},{"location":"changelog/#added-_5","title":"Added \u2728","text":"<ul> <li>RIVEN_FRONTEND_OWNER: Environment variable to set the owner of the Riven frontend repository; Default is rivenmedia \ud83c\udd94</li> </ul>"},{"location":"changelog/#514---2024-09-12-","title":"[5.1.4] - 2024-09-12 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_14","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Issue #51 Duplicate start_process when update applied during initial startup \ud83d\udc1b</li> </ul>"},{"location":"changelog/#513---2024-09-12-","title":"[5.1.3] - 2024-09-12 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_15","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Issue #43 Node issue when setting Riven frontend version \ud83d\udc1b</li> </ul>"},{"location":"changelog/#notes-_5","title":"Notes \ud83d\udcdd","text":"<ul> <li>The Riven frontend automatic update / branch / version should now work again \ud83d\udce6</li> </ul>"},{"location":"changelog/#512---2024-09-10-","title":"[5.1.2] - 2024-09-10 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_16","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Healthcheck: Fixed healthcheck for Zilean \ud83e\ude7a</li> </ul>"},{"location":"changelog/#511---2024-09-10-","title":"[5.1.1] - 2024-09-10 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_17","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Zilean: <code>PostgreSQL subprocess: ... CEST [490] FATAL:  role \"postgres\" does not exist</code> \ud83d\udc1b</li> </ul>"},{"location":"changelog/#notes-_6","title":"Notes \ud83d\udcdd","text":"<ul> <li>On first run of Zilean, the PostgreSQL will create the database named zilean, so the message <code>PostgreSQL subprocess: ... CEST [596] FATAL:  database \"zilean\" does not exist</code> can be ignored \ud83d\uddc4\ufe0f</li> </ul>"},{"location":"changelog/#510---2024-09-09-","title":"[5.1.0] - 2024-09-09 \ud83d\ude80","text":""},{"location":"changelog/#added-_6","title":"Added \u2728","text":"<ul> <li>Issue #48 Added Zilean to the DMB image for caching of the DebridMediaManager shared hashlists \ud83d\udce6</li> <li>ZILEAN_ENABLED: Environment variable to enable Zilean; Default is false \ud83d\udd04</li> <li>ZILEAN_UPDATE: Environment variable to update Zilean; Default is false \ud83d\udd04</li> <li>ZILEAN_BRANCH: Environment variable to set the Zilean branch; Default is main \ud83d\udd04</li> <li>ZILEAN_VERSION: Environment variable to set the Zilean version; Default is latest \ud83d\udd04</li> <li>ZILEAN_LOGS: Environment variable to disable the Zilean logging when value is set to OFF; Default is ON \ud83d\udcdd</li> </ul>"},{"location":"changelog/#501---2024-09-06-","title":"[5.0.1] - 2024-09-06 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_18","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Issue #47 Error when RCLONE_LOG_LEVEL is not enabled \ud83d\udc1b</li> </ul>"},{"location":"changelog/#500---2024-09-05-","title":"[5.0.0] - 2024-09-05 \ud83d\ude80","text":""},{"location":"changelog/#breaking-changes-_1","title":"Breaking Changes \u26a0\ufe0f","text":"<ul> <li>PostgreSQL: The default database user has been changed from postgres to DMB \ud83d\udcc9 - Please delete the existing PostgreSQL data directory before starting the new version of DMB \ud83d\uddd1\ufe0f</li> </ul>"},{"location":"changelog/#added-_7","title":"Added \u2728","text":"<ul> <li>FRONTEND_LOGS: Environment variable to disable the Riven frontend logging when value is set to OFF; Default is ON \ud83d\udcdd</li> <li>BACKEND_LOGS: Environment variable to disable the Riven backend logging when value is set to OFF; Default is ON \ud83d\udcdd</li> <li>Riven: Added shutdown for Riven backend and frontend processes \ud83d\uded1</li> </ul>"},{"location":"changelog/#fixed-_19","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Issue #44 Add graceful shutdown for Riven frontend and backend \u2728</li> <li>Issue #45 Fix permissions for npm_install \ud83d\udc1b</li> <li>Issue #46 Zurg config.yml not chown'd to the correct user \ud83d\udc1b</li> <li>PostgreSQL: Fixed permissions for PostgreSQL \ud83d\udc1b - Thanks @Unlearned6688 \ud83d\ude4f</li> <li>Zurg: Fixed automatic updates for Zurg nightly builds \ud83d\udc1b</li> </ul>"},{"location":"changelog/#changed-_7","title":"Changed \ud83d\udd04","text":"<ul> <li>Refactor: Refactored the use of ProcessHandler for consistent process management \ud83d\udd04</li> </ul>"},{"location":"changelog/#notes-_7","title":"Notes \ud83d\udcdd","text":"<ul> <li>Add <code>stop_grace_period: 60s</code> to your compose file to allow for a 60 second grace period for all of the processes to shutdown before the container is stopped \ud83d\uded1</li> <li>Issue #43 Node issue when setting Riven frontend version \ud83d\udc1b has not been resolved in this release \ud83d\udea8, so please ensure to only use Riven frontend version that is built into the image - No automatic update / branch / version \ud83d\udce6</li> <li>There may be an issue with the Riven frontend when trying to access settings; the logs will show <code>TypeError: Cannot read properties of undefined (reading 'enabled')</code> when trying to access settings - this is a known issue and you will need to delete the riven settings.json \ud83d\udea8</li> </ul>"},{"location":"changelog/#410---2024-08-29-","title":"[4.1.0] - 2024-08-29 \ud83d\ude80","text":""},{"location":"changelog/#added-_8","title":"Added \u2728","text":"<ul> <li>RCLONE_LOGS: Environment variable to disable the rclone process logging when value is set to OFF; Default is ON \ud83d\udcdd</li> <li>RCLONE_DIR: Environment variable to set the rclone directory; Default is /data \ud83d\udcc1</li> </ul>"},{"location":"changelog/#fixed-_20","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Issue #36 Setting RCLONE_LOG_LEVEL=OFF causes the rclone process to fail \ud83d\udc1b</li> <li>Issue #37 Error when PUID/PGID are set without values: PGID= \ud83d\udc1b</li> <li>Issue #38 Recursive chown of /data throws errors if the mount is still present \ud83d\udc1b</li> <li>Issue #39 Make rclone mount base path a variable - /data \u2192 /user-defined \u2728</li> <li>Issue #41 Add healthcheck for PostgreSQL process \u2728</li> <li>Issue #42 Add clean shutdown for PostgreSQL server \u2728</li> </ul>"},{"location":"changelog/#400---2024-08-28-","title":"[4.0.0] - 2024-08-28 \ud83d\ude80","text":""},{"location":"changelog/#breaking-changes-_2","title":"Breaking Changes \u26a0\ufe0f","text":"<ul> <li>Riven: Riven backend no longer supports sqlite as a database option; PostgreSQL is now the only supported database option \ud83d\udcc9</li> <li>PostgreSQL: To ensure the database files are persisted, a volume must be mounted to /postgres_data \ud83d\udcc2</li> </ul>"},{"location":"changelog/#added-_9","title":"Added \u2728","text":"<ul> <li>PUID &amp; PGID: Environment variables to set the user and group IDs for the DMB container; Default is 1001 \ud83c\udd94</li> <li>POSTGRES_DATA: Environment variable to set the path for the PostgreSQL database files; Default is /postgres_data \ud83d\udcc1</li> <li>POSTGRES_PASSWORD: Environment variable to set the password for the PostgreSQL database; Default is postgres \ud83d\udd10</li> <li>POSTGRES_USER: Environment variable to set the user for the PostgreSQL database; Default is postgres \ud83d\udc64</li> <li>POSTGRES_DB: Environment variable to set the database name for the PostgreSQL database; Default is riven \ud83d\uddc4\ufe0f</li> </ul>"},{"location":"changelog/#changed-_8","title":"Changed \ud83d\udd04","text":"<ul> <li>Riven: Riven backend now uses PostgreSQL as the database option; Default is postgresql+psycopg2://postgres:postgres@127.0.0.1/riven \ud83d\udd27</li> <li>Riven: Riven frontend now uses PostgreSQL as the database option; Default is postgres://postgres:postgres@127.0.0.1/riven \ud83d\udd04</li> </ul>"},{"location":"changelog/#fixed-_21","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Issue #8 Add support for PUID/GUID \u2728</li> <li>Issue #34 Add PostgreSQL option for Riven backend \u2728</li> <li>Issue #35 Riven frontend not properly connecting to the database \ud83d\udc1b</li> </ul>"},{"location":"changelog/#notes-_8","title":"Notes \ud83d\udcdd\ud83d\udccc","text":"<ul> <li>If the Riven backend shows errors related to the database or alembic, then the Riven data directory may need to be deleted before starting the new version of Riven w/ PostgreSQL \ud83d\uddd1\ufe0f - backup your settings.json before deleting the data directory \ud83d\udcc2</li> </ul>"},{"location":"changelog/#350---2024-08-08-","title":"[3.5.0] - 2024-08-08 \ud83d\ude80","text":""},{"location":"changelog/#added-_10","title":"Added \u2728","text":"<ul> <li>Suppress Logs: If the LOG_LEVEL for a process is set to OFF, then logs will be suppressed for the process \ud83e\udd2b</li> <li>Riven Frontend: Added the latest version of the Riven frontend to the Dockerfile for image build \ud83d\udce6</li> </ul>"},{"location":"changelog/#notes-_9","title":"Notes \ud83d\udcdd","text":"<ul> <li>The DMB image is built nightly and will include the latest version of the Riven frontend at the time of build \ud83c\udf19</li> </ul>"},{"location":"changelog/#340---2024-08-05-","title":"[3.4.0] - 2024-08-05 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_22","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Issue #27 DATABASE_URL was not being set correctly for the Riven frontend \ud83d\udc1b</li> <li>healthcheck: Fixed healthcheck to properly check for Riven frontend setup completion \ud83e\ude7a</li> </ul>"},{"location":"changelog/#changed-_9","title":"Changed \ud83d\udd04","text":"<ul> <li>Riven setup: Refactored backend and frontend setup to use ProcessHandler for consistent logging \ud83d\udd04</li> </ul>"},{"location":"changelog/#added-_11","title":"Added \u2728","text":"<ul> <li>Issue #9 Obfuscate sensitive data in logs</li> <li>Riven backend: UPDATERS_PLEX_ADDRESS linked to PLEX_ADDRESS \ud83d\udd04</li> <li>Riven backend: UPDATERS_PLEX_TOKEN linked to PLEX_TOKEN \ud83d\udd04</li> </ul>"},{"location":"changelog/#332---2024-08-03-","title":"[3.3.2] - 2024-08-03 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_23","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Issue #27 Riven frontend needed a database connection to function properly \ud83d\udc1b</li> </ul>"},{"location":"changelog/#added-_12","title":"Added \u2728","text":"<ul> <li>RIVEN_DATABASE_URL: Environment variable to set the Riven frontend database URL; Default is sqlite:////riven/backend/data/media.db \ud83d\uddc3\ufe0f</li> </ul>"},{"location":"changelog/#changed-_10","title":"Changed \ud83d\udd04","text":"<ul> <li>GITHUB_TOKEN: Can be added to the environment variables to allow for repository downloads without rate limits \ud83d\udd04</li> </ul>"},{"location":"changelog/#331---2024-08-01-","title":"[3.3.1] - 2024-08-01 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_24","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>healthcheck: Reverted healthcheck, for now \ud83d\udc1b</li> </ul>"},{"location":"changelog/#330---2024-08-01-","title":"[3.3.0] - 2024-08-01 \ud83d\ude80","text":""},{"location":"changelog/#fixed-_25","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Issue #23 Processes not properly killed during automatic updates \ud83d\udc1b</li> <li>Issue #24 Riven automatic update extracts to wrong directory \ud83d\udc1b</li> <li>Issue #25 Automatic update initiates update check multiple times for each instance \ud83d\udc1b</li> <li>Issue #26 Riven Frontend breaking change requires DIALECT=sqlite env variable \ud83d\udc1b</li> </ul>"},{"location":"changelog/#added-_13","title":"Added \u2728","text":"<ul> <li>Automatic Update: Enabled automatic updates for Riven branches - expands automatic updates to include branches \ud83d\udd04</li> <li>RIVEN_FRONTEND_DIALECT: Environment variable to set the Riven frontend database dialect; Default is sqlite - not required to be set in default configuration \ud83d\uddc3\ufe0f</li> <li>Riven Frontend: Set npm max_old_space_size to 2048MB for Riven frontend build process - limits resource usage \ud83d\udce6</li> <li>Riven Frontend: Set vite minification to false for Riven frontend build process - speeds up build process and reduces resource usage \ud83d\udce6</li> </ul>"},{"location":"changelog/#changed-_11","title":"Changed \ud83d\udd04","text":"<ul> <li>healthcheck: Waits for Riven frontend setup to complete \ud83e\ude7a</li> </ul>"},{"location":"changelog/#320---2024-07-30-","title":"[3.2.0] - 2024-07-30 \ud83d\ude80","text":""},{"location":"changelog/#changed-_12","title":"Changed \ud83d\udd04","text":"<ul> <li>Update process: Refactored update process to apply updates to Zurg and Riven before starting the processes \ud83d\udd04</li> <li>Zurg: Disabling plex_update.sh in config file has been disabled, for now. Comment out the line in the config file to disable the Zurg based plex update process if desired \ud83d\udd04</li> </ul>"},{"location":"changelog/#added-_14","title":"Added \u2728","text":"<ul> <li>Zurg: Allow nightly release custom versions for ZURG_VERSION</li> <li>Zurg: Add plex_update.sh from Zurg to working directory for Zurg use \ud83d\udce6</li> </ul>"},{"location":"changelog/#fixed-_26","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>Logging: Fixed logging for Zurg to ensure log levels are properly set \ud83d\udcdd</li> </ul>"},{"location":"changelog/#310---2024-07-26-","title":"[3.1.0] - 2024-07-26 \ud83d\ude80","text":""},{"location":"changelog/#added-_15","title":"Added \u2728","text":"<ul> <li>Shutdown: Added a shutdown function to gracefully stop the DMB container; e.g., unmount the rclone mounts \ud83d\uded1</li> </ul>"},{"location":"changelog/#300---2024-07-26-","title":"[3.0.0] - 2024-07-26 \ud83d\ude80","text":""},{"location":"changelog/#breaking-changes-_3","title":"Breaking Changes \u26a0\ufe0f","text":"<ul> <li>BACKEND_URL: Environment variable has been changed to RIVEN_BACKEND_URL to better reflect the environment variable's purpose; please update your compose file accordingly</li> </ul>"},{"location":"changelog/#added-_16","title":"Added \u2728","text":"<ul> <li>Ratelimit for GitHub API requests \u23f3</li> <li>Retries for GitHub API requests \ud83d\udd04</li> </ul>"},{"location":"changelog/#fixed-_27","title":"Fixed \ud83d\udee0\ufe0f","text":"<ul> <li>RIVEN_ENABLED: Environment variable has been fixed to correctly enable the Riven backend and frontend; Default is false \ud83e\udd1e</li> <li>RIVEN_UPDATE: Environment variable has been fixed to correctly update the Riven backend and frontend; Default is false \ud83e\udd1e</li> <li>RIVEN_BACKEND_UPDATE: Environment variable has been fixed to correctly update the Riven backend; Default is false \ud83e\udd1e</li> <li>RIVEN_FRONTEND_UPDATE: Environment variable has been fixed to correctly update the Riven frontend; Default is false \ud83e\udd1e</li> <li>RIVEN_DATABASE_HOST: Environment variable has been fixed to correctly set the Riven database host; Default is sqlite:////riven/backend/data/media.db \ud83d\uddc3\ufe0f</li> <li>Issue #22 \ud83d\udc1b</li> </ul>"},{"location":"changelog/#notes-_10","title":"Notes \ud83d\udcdd","text":"<ul> <li>BACKEND_URL has been changed to RIVEN_BACKEND_URL. The value is automatically set when the variable is not enabled. The default value is http://127.0.0.1:8080 \ud83c\udf10</li> <li>RIVEN_DATABASE_HOST value is automatically set when the variable is not enabled. The default value is sqlite:////riven/backend/data/media.db \ud83d\uddc3\ufe0f</li> </ul>"},{"location":"changelog/#200---2024-07-25","title":"[2.0.0] - 2024-07-25","text":""},{"location":"changelog/#breaking-changes","title":"Breaking Changes","text":"<ul> <li>Riven: Directory structure has changed to allow for split riven instances - backend and frontend - please update your compose file volumes accordingly</li> <li>RIVEN_BRANCH: Is now split into RIVEN_FRONTEND_BRANCH and RIVEN_BACKEND_BRANCH</li> <li>RIVEN_ENABLED: Environment variable will enable the Riven backend and frontend without the need to set the RIVEN_FRONTEND_ENABLED and RIVEN_BACKEND_ENABLED variables</li> <li>RIVEN_UPDATE: Environment variable to update the Riven backend and frontend; Default is false</li> </ul>"},{"location":"changelog/#added","title":"Added","text":"<ul> <li>RIVEN_BACKEND_ENABLED: Environment variable to enable the Riven backend; Default is false</li> <li>RIVEN_FRONTEND_ENABLED: Environment variable to enable the Riven frontend; Default is false</li> <li>RIVEN_BACKEND_BRANCH: Environment variable to set the Riven backend branch; Default is main</li> <li>RIVEN_FRONTEND_BRANCH: Environment variable to set the Riven frontend branch; Default is main</li> <li>RIVEN_BACKEND_UPDATE: Environment variable to update the Riven backend; Default is false</li> <li>RIVEN_FRONTEND_UPDATE: Environment variable to update the Riven frontend; Default is false</li> <li>RIVEN_BACKEND_VERSION: Environment variable to set the Riven backend version; Default is latest</li> <li>RIVEN_FRONTEND_VERSION: Environment variable to set the Riven frontend version; Default is latest</li> <li>BACKEND_URL: Environment variable to set the Riven backend URL; Default is http://127.0.0.1:8080</li> <li>RIVEN_DATABASE_HOST: Environment variable to set the Riven database host; Default is sqlite:////riven/backend/data/media.db</li> <li>COLOR_LOG_ENABLED: Environment variable to enable color logging; Default is false</li> <li>ffmpeg: Added ffmpeg to the Dockerfile for Zurg use of ffprobe to extract media information from files, enhancing media metadata accuracy.</li> </ul>"},{"location":"changelog/#notes","title":"Notes","text":"<ul> <li>Delete all Riven files and directories within the data directory before starting the new version of Riven!</li> <li>Automatic updates for Riven backend and frontend are not functional yet; will be fixed in a follow-on release.</li> <li>Other features may also not be functional yet; will be fixed in a follow-on release.</li> <li>This release resolves Issue #19, Issue #20, and Issue #10</li> </ul>"},{"location":"changelog/#120---2024-07-19","title":"[1.2.0] - 2024-07-19","text":""},{"location":"changelog/#added_1","title":"Added","text":"<ul> <li>Issue #18: Added DMB_LOG_SIZE environment variable to set the maximum size of the log file; Default is 10MB</li> </ul>"},{"location":"changelog/#110---2024-07-17","title":"[1.1.0] - 2024-07-17","text":""},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>Rclone: WebDAV URL check for Zurg startup processes accepts any 200 status code as a valid response</li> <li>DMB: Refactored to use common functions under utils</li> </ul>"},{"location":"changelog/#103---2024-07-16","title":"[1.0.3] - 2024-07-16","text":""},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>Rclone: Fixed WebDAV URL check for Zurg startup processes when Zurg user and password are set in config.yml</li> </ul>"},{"location":"changelog/#102---2024-07-16","title":"[1.0.2] - 2024-07-16","text":""},{"location":"changelog/#fixed_1","title":"Fixed","text":"<ul> <li>Zurg: Fixed the removal of Zurg user and password if previously set in config.yml</li> </ul>"},{"location":"changelog/#101---2024-07-16","title":"[1.0.1] - 2024-07-16","text":""},{"location":"changelog/#fixed_2","title":"Fixed","text":"<ul> <li>DMB: Introduced a Riven startup check for the symlinked directory to ensure the Zurg startup processes have finished before starting Riven</li> <li>DMB: Introduced a Rclone startup check for the Zurg WebDAV URL to ensure the Zurg startup processes have finished before starting Rclone</li> </ul>"},{"location":"changelog/#100---2024-06-25","title":"[1.0.0] - 2024-06-25","text":""},{"location":"changelog/#breaking-changes_1","title":"Breaking Changes","text":"<ul> <li>DMB: Updated PDZURG_LOG_LEVEL to DMB_LOG_LEVEL</li> <li>DMB: Updated PDZURG_LOG_COUNT to DMB_LOG_COUNT</li> </ul>"},{"location":"changelog/#changed_1","title":"Changed","text":"<ul> <li>Issue #5: Added initial sleep time to allow for services to start</li> <li>Issue #6: Disabled Zurg plex_update.sh - not needed</li> <li>Issue #7: Cleanup Riven logging</li> </ul>"},{"location":"changelog/#added_2","title":"Added","text":"<ul> <li>Issue #1: All Riven settings now assignable with environment variables</li> <li>Riven: RIVEN_LOG_LEVEL environment variable - Riven log level is only configurable to DEBUG or INFO; Default is INFO</li> </ul>"},{"location":"changelog/#removed_1","title":"Removed","text":"<ul> <li>Issue #3: Removed Jellyfin environment variables</li> <li>Issue #2: Removed PLEX_REFRESH environment variable</li> </ul>"},{"location":"changelog/#020---2024-06-22","title":"[0.2.0] - 2024-06-22","text":""},{"location":"changelog/#added_3","title":"Added","text":"<ul> <li>Zurg: GITHUB_TOKEN environment variable to use for access to the private sponsored zurg repository</li> </ul>"},{"location":"changelog/#removed_2","title":"Removed","text":"<ul> <li>Zurg: PLEX_REFRESH environment variable</li> <li>Zurg: PLEX_MOUNT environment variable</li> </ul>"},{"location":"changelog/#010---2024-06-22","title":"[0.1.0] - 2024-06-22","text":""},{"location":"changelog/#added_4","title":"Added","text":"<ul> <li>Riven: RIVEN_BRANCH environment variable to select the branch to use for the riven repository</li> </ul>"},{"location":"changelog/#fixed_3","title":"Fixed","text":"<ul> <li>rclone: Fixed rclone process w/ Riven</li> <li>Healthcheck: Fixed healthcheck process w/ Riven</li> </ul>"},{"location":"changelog/#001---2024-06-21","title":"[0.0.1] - 2024-06-21","text":""},{"location":"changelog/#added_5","title":"Added","text":"<ul> <li>Initial Push</li> </ul>"},{"location":"deployment/wsl/","title":"WSL","text":""},{"location":"deployment/wsl/#windows-setup-guide-dockerwsl","title":"Windows Setup Guide (Docker/WSL)","text":"<p>[!NOTE] Ensure that Docker Desktop is not installed; if so, uninstall and reboot before proceeding.</p> <p>From the Microsoft store, install Windows Subsystem for Linux (WSL) \\</p> <p>From the Microsoft store, install Ubuntu 22.04 LTS \\</p> <p>Follow the setup to create your Ubuntu username and password.</p> <p>From a Windows command prompt, paste the following:</p> <p><code>cd C:\\WINDOWS\\system32</code></p> <p>Then paste:</p> <p><code>wsl --setdefault Ubuntu-22.04</code></p> <p>From Windows apps, start Ubuntu 22.04, and paste the following inside the terminal:</p> <pre><code>sudo apt update\nsudo apt upgrade -y\nsudo mount --make-rshared /\n</code></pre> <p>[!NOTE] <code>sudo mount --make-rshared</code> does not persist reboots, so it will need to be run each time WSL2 or Windows is restarted. Alternatively, see the Ubuntu systemd service guide for automatically executing the command on startup for Ubuntu.</p> <p>Follow the Docker install guide.</p> <p>Follow the standard docker process for creating the container or follow the Define the directory structure and the remainder of the Complete Beginners Guide</p> <p>To access the mount on Windows: From the Ubuntu terminal, paste the following, including the punctuation:</p> <p><code>explorer.exe .</code></p> <p>A new file explorer window will appear; you\u2019re now inside the Ubuntu directory structure</p> <p>Navigate to the mount location and copy the full path from the explore window</p> <p>From another file explorer window, click \"This PC,\" then right-click in the space below the listed drives and select add a network location</p> <p>In the pop-up, click next twice and past the mount location.</p> <p>Follow the remaining prompted steps</p> <p>Extra credit: install Portainer.</p>"},{"location":"features/","title":"Features Overview","text":""},{"location":"features/#-what-is-dmb","title":"\ud83d\ude80 What is DMB?","text":"<p>DMB (Debrid Media Bridge) is an all-in-one media management solution designed to streamline the process of finding, downloading, organizing, and streaming media content. It integrates multiple services into a single Docker image, providing automation and efficiency for managing media libraries.</p>"},{"location":"features/#-key-features","title":"\ud83d\udd11 Key Features","text":"<ul> <li>Unified Deployment \u2013 Combines multiple tools into a single, easy-to-deploy system.</li> <li>Automated Content Management \u2013 Uses Debrid Services, Plex Discover Watchlists, Trakt lists, and Overseerr to automate media retrieval.</li> <li>Integrated Web UI \u2013 Control and manage services through a simple web-based interface.</li> <li>Modular Design \u2013 Each service (Riven, Zurg, Zilean, etc.) is independently configurable and upgradable.</li> <li>Advanced Logging &amp; Monitoring \u2013 View and filter service logs directly from the API.</li> </ul>"},{"location":"features/#-core-components","title":"\ud83d\udee0\ufe0f Core Components","text":"<p>DMB integrates the following projects to create a seamless media experience:</p>"},{"location":"features/#-riven","title":"\ud83c\udf9e\ufe0f Riven","text":"<p>Riven is responsible for content management, handling search queries, downloading, and organizing media for streaming.</p>"},{"location":"features/#-zurg","title":"\ud83e\udd16 Zurg","text":"<p>Zurg acts as the automation engine that interacts with Real-Debrid and other debrid services to fetch media files.</p>"},{"location":"features/#-zilean","title":"\ud83d\uddc2\ufe0f Zilean","text":"<p>Zilean enhances content discovery and caching, optimizing the efficiency of media lookups.</p>"},{"location":"features/#-rclone","title":"\u2601\ufe0f rclone","text":"<p>rclone manages cloud storage connections and allows mounting remote debrid storage as if it were a local drive.</p>"},{"location":"features/#-postgresql--pgadmin-4","title":"\ud83d\uddc3\ufe0f PostgreSQL &amp; pgAdmin 4","text":"<ul> <li>PostgreSQL serves as the primary database for storing metadata, configurations, and user preferences.</li> <li>pgAdmin 4 provides a web-based database management interface, making it easy to manage PostgreSQL.</li> </ul>"},{"location":"features/#-how-does-it-work","title":"\ud83d\udd0d How Does It Work?","text":"<p>DMB simplifies the media management workflow by: 1. Scanning User Watchlists (Plex, Trakt, Overseerr, etc.). 2. Fetching Media from Debrid Services (Real-Debrid, AllDebrid, etc.). 3. Downloading &amp; Organizing Content using Zurg &amp; Riven. 4. Providing a Web Interface for monitoring &amp; controlling downloads. 5. Allowing Streaming via Plex &amp; Other Clients by mounting content with rclone.</p>"},{"location":"features/#-next-steps","title":"\ud83d\udccc Next Steps","text":"<p>Explore the Configuration section to understand how to set up and customize DMB according to your needs.</p>"},{"location":"features/configuration/","title":"Configuration","text":""},{"location":"features/configuration/#-overview","title":"\ud83d\udcd1 Overview","text":"<p>DMB relies on a centralized configuration file, <code>dmb_config.json</code>, to control its services, logging, API settings, and more. This file allows you to customize the behavior of DMB without modifying the source code.</p> <p>DMB also supports environment variables, .env files, and Docker secrets. If the same setting is defined in multiple places, the precedence is as follows:</p> <ol> <li>Environment Variables (highest priority)</li> <li>.env File</li> <li>Docker Secrets</li> <li><code>dmb_config.json</code> (lowest priority)</li> </ol>"},{"location":"features/configuration/#-configuration-file-structure","title":"\ud83d\udee0\ufe0f Configuration File Structure","text":"<p>Below is the general structure of <code>dmb_config.json</code>:</p> <pre><code>{\n    \"puid\": 1000,\n    \"pgid\": 1000,\n    \"tz\": \"\",\n    \"dmb\": { ... },\n    \"postgres\": { ... },\n    \"pgadmin\": { ... },\n    \"rclone\": { ... },\n    \"riven_backend\": { ... },\n    \"riven_frontend\": { ... },\n    \"zilean\": { ... },\n    \"zurg\": { ... }\n}\n</code></pre> <p>Each section configures a specific service. Below is a detailed breakdown of the most important sections:</p> <p>Be Careful When Modifying <code>dmb_config.json</code></p> <p>While DMB is highly configurable via <code>dmb_config.json</code>, some changes can cause failures during startup. As such, it is not recommended to make modifications unless you fully understand their impact.</p>"},{"location":"features/configuration/#-general-settings","title":"\ud83d\udd27 General Settings","text":""},{"location":"features/configuration/#user--timezone","title":"User &amp; Timezone","text":"<pre><code>\"puid\": 1000,\n\"pgid\": 1000,\n\"tz\": \"\"\n</code></pre> <ul> <li>puid / pgid \u2013 Define the user and group IDs for container execution.</li> <li>tz \u2013 Set the timezone (e.g., <code>America/New_York</code>).</li> </ul>"},{"location":"features/configuration/#-logging-settings","title":"\ud83d\udcdc Logging Settings","text":"<p>Located in <code>dmb</code>: <pre><code>\"log_level\": \"INFO\",\n\"log_name\": \"DMB\",\n\"log_dir\": \"/log\",\n\"log_count\": 2,\n\"log_size\": \"10M\",\n\"color_log\": true\n</code></pre></p> <ul> <li>log_level \u2013 Set the logging verbosity (<code>DEBUG</code>, <code>INFO</code>, <code>WARNING</code>, <code>ERROR</code>).</li> <li>log_dir \u2013 Directory where logs are stored.</li> <li>log_count \u2013 Number of rotated logs to retain.</li> <li>log_size \u2013 Maximum log file size before rotation.</li> <li>color_log \u2013 Enables colored log output.</li> </ul>"},{"location":"features/configuration/#-api-service-configuration","title":"\ud83d\udce1 API Service Configuration","text":"<p>Located in <code>dmb.api_service</code>: <pre><code>\"enabled\": true,\n\"process_name\": \"DMB API\",\n\"log_level\": \"INFO\",\n\"host\": \"127.0.0.1\",\n\"port\": 8000\n</code></pre></p> <ul> <li>enabled \u2013 Whether the API service should run.</li> <li>host / port \u2013 Define where the API service runs.</li> <li>log_level \u2013 Logging verbosity for the API.</li> </ul>"},{"location":"features/configuration/#-frontend-configuration","title":"\ud83c\udf0d Frontend Configuration","text":"<p>Located in <code>dmb.frontend</code>: <pre><code>\"enabled\": true,\n\"process_name\": \"DMB Frontend\",\n\"repo_owner\": \"nicocapalbo\",\n\"repo_name\": \"dmbdb\",\n\"port\": 3005,\n\"auto_update\": false,\n\"clear_on_update\": true\n</code></pre></p> <ul> <li>repo_owner/repo_name \u2013 Defines where the frontend is pulled from.</li> <li>port \u2013 The port where the frontend runs.</li> <li>auto_update \u2013 Enables automatic updates.</li> <li>clear_on_update \u2013 Clears existing files before updating.</li> </ul>"},{"location":"features/configuration/#-database-postgresql","title":"\ud83d\uddc4\ufe0f Database: PostgreSQL","text":"<p>Located in <code>postgres</code>: <pre><code>\"enabled\": true,\n\"host\": \"127.0.0.1\",\n\"port\": 5432,\n\"user\": \"DMB\",\n\"password\": \"postgres\",\n\"shared_buffers\": \"128MB\",\n\"max_connections\": 100\n</code></pre></p> <ul> <li>user/password \u2013 Default database credentials.</li> <li>shared_buffers \u2013 Amount of memory allocated to PostgreSQL.</li> <li>max_connections \u2013 Maximum simultaneous database connections.</li> </ul>"},{"location":"features/configuration/#-zilean-configuration","title":"\u2699\ufe0f Zilean Configuration","text":"<p>Located in <code>zilean</code>: <pre><code>\"enabled\": true,\n\"process_name\": \"Zilean\",\n\"port\": 8182,\n\"auto_update\": false,\n\"config_dir\": \"/zilean\",\n\"env\": {\n    \"DOTNET_RUNNING_IN_CONTAINER\": \"true\",\n    \"DOTNET_gcServer\": \"1\",\n    \"DOTNET_GCDynamicAdaptationMode\": \"1\",\n    \"DOTNET_SYSTEM_GLOBALIZATION_INVARIANT\": \"false\",\n    \"PYTHONUNBUFFERED\": \"1\",\n    \"ASPNETCORE_URLS\": \"http://+:{port}\",\n    \"PYTHONPATH\": \"/zilean/venv/lib/python3.11/site-packages\",\n    \"PATH\": \"/zilean/venv/bin:${PATH}\",\n    \"ZILEAN_PYTHON_PYLIB\": \"/usr/local/lib/libpython3.11.so.1.0\",\n    \"Zilean__Database__ConnectionString\": \"Host={postgres_host};Port={postgres_port};Database=zilean;Username={postgres_user};Password={postgres_password};Timeout=300;CommandTimeout=3600;\"\n}\n</code></pre></p> <ul> <li>port \u2013 API port for Zilean.</li> <li>env \u2013 Defines environment variables used by Zilean.</li> </ul>"},{"location":"features/configuration/#-next-steps","title":"\ud83d\udccc Next Steps","text":"<ol> <li>Review and modify <code>dmb_config.json</code> as needed.</li> <li>For a deep dive into individual services, see the Services section.</li> </ol>"},{"location":"features/usage/","title":"Usage","text":""},{"location":"features/usage/#-running-dmb","title":"\ud83d\ude80 Running DMB","text":"<p>Once installed and configured, DMB automatically starts the services defined in <code>dmb_config.json</code>. Each service can also be managed independently using the DMB API or by directly modifying the configuration.</p> <p>Important: Configure API Key Before Startup</p> <p>DMB is preset to start all services on the first startup. As such, please ensure <code>ZURG_INSTANCES_REALDEBRID_API_KEY</code> is configured with your RealDebrid API Key in the compose before starting the container.</p>"},{"location":"features/usage/#-automatic-service-start","title":"\ud83d\udd04 Automatic Service Start","text":"<p>All services with <code>\"enabled\": true</code> in the config will be started on container launch. These typically include: - DMB API - DMB Frontend - PostgreSQL - pgAdmin 4 - rclone - Riven Backend &amp; Frontend - Zilean - Zurg</p> <p>If a service fails to start, check its log file in the <code>/log</code> directory (or wherever <code>log_dir</code> is set).</p>"},{"location":"features/usage/#-interacting-with-services","title":"\ud83e\uddea Interacting with Services","text":""},{"location":"features/usage/#-healthcheck","title":"\u2705 Healthcheck","text":"<p>A full list of currently running services is available at: <pre><code>GET http://&lt;host&gt;:8000/healthcheck/running_processes.json\n</code></pre> This is useful for checking container health in orchestrators like Docker Compose.</p>"},{"location":"features/usage/#-logs-api-added-in-v630","title":"\ud83d\udcca Logs API (Added in v6.3.0)","text":"<p>You can retrieve logs for each service using: <pre><code>GET /logs/{service_name}\n</code></pre> Optional query parameters: - <code>level</code> \u2013 Filter by log level (e.g., <code>INFO</code>, <code>ERROR</code>) - <code>lines</code> \u2013 Limit the number of lines returned - <code>search</code> \u2013 Search for a string in the logs</p> <p>Example: <pre><code>GET /logs/riven_backend?level=ERROR&amp;lines=100\n</code></pre></p>"},{"location":"features/usage/#-managing-updates","title":"\ud83d\udd03 Managing Updates","text":""},{"location":"features/usage/#-manual-updates","title":"\ud83d\udee0\ufe0f Manual Updates","text":"<p>Each service can be updated by modifying the configuration file or using the DMB API. Updates include: - Branch switching - Version pinning - Auto-update toggling</p>"},{"location":"features/usage/#-auto-update","title":"\u2699\ufe0f Auto-Update","text":"<p>Some services support automatic updates. Enable by setting: <pre><code>\"auto_update\": true,\n\"auto_update_interval\": 24\n</code></pre> - <code>auto_update_interval</code> is measured in hours.</p> <p>Services supporting auto-updates: - DMB Frontend - Riven Backend - Riven Frontend - Zilean - Zurg</p>"},{"location":"features/usage/#-shutdown-handling","title":"\u26a1 Shutdown Handling","text":"<p>DMB handles graceful shutdown of all services. This includes: - Stopping running processes - Unmounting rclone mounts - Syncing configuration states</p> <p>To allow time for clean shutdowns, use: <pre><code>docker-compose:\n  stop_grace_period: 60s\n</code></pre></p>"},{"location":"features/usage/#-tips","title":"\ud83d\udccc Tips","text":"<ul> <li>Always monitor <code>/log/*.log</code> files for troubleshooting.</li> <li>Ensure PostgreSQL is running before launching services that depend on it.</li> <li>If using Real-Debrid, ensure <code>api_key</code> is provided in rclone and Zurg instances.</li> <li>Logs can be colored if <code>color_log</code> is enabled in the config.</li> </ul>"},{"location":"features/usage/#-related-docs","title":"\ud83d\udcce Related Docs","text":"<ul> <li>Configuration</li> <li>Services Overview</li> <li>API Endpoints</li> </ul>"},{"location":"services/","title":"Services Overview","text":"<p>DMB is composed of multiple services that work together to provide a complete automated media management system. Each service can be configured, updated, and monitored independently, and serves a specific function within the DMB ecosystem.</p> <p>Below is a summary of the available services:</p>"},{"location":"services/#-pgadmin-4","title":"\ud83d\udcca pgAdmin 4","text":"<p>A web-based UI for managing PostgreSQL databases. Automatically configured to connect to the PostgreSQL instance used by DMB. - Default Port: <code>5050</code> - Data Directory: <code>/pgadmin/data</code> - Credentials: <code>setup_email</code> / <code>setup_password</code></p>"},{"location":"services/#-postgresql","title":"\ud83d\uddc3\ufe0f PostgreSQL","text":"<p>The core database for DMB services, including Riven, Zilean, and pgAdmin. - Default Port: <code>5432</code> - User: <code>DMB</code> - Preloaded Databases: <code>postgres</code>, <code>pgadmin</code>, <code>zilean</code>, <code>riven</code></p>"},{"location":"services/#-rclone","title":"\u2601\ufe0f rclone","text":"<p>Used to mount remote cloud storage (such as Real-Debrid WebDAV) into the container. - Works with <code>Zurg</code> for fetching content - Mount Directory: <code>/data</code> - Config Directory: <code>/config</code></p>"},{"location":"services/#-riven-backend","title":"\ud83e\udde0 Riven Backend","text":"<p>Handles media tracking, search, download orchestration, and integration with Plex, Trakt, and Overseerr. - Default Port: <code>8080</code> - Config File: <code>/riven/backend/data/settings.json</code> - Environment: <code>/riven/backend/src/.env</code></p>"},{"location":"services/#-riven-frontend","title":"\ud83c\udfa8 Riven Frontend","text":"<p>Web interface for controlling and monitoring the Riven backend. - Default Port: <code>3000</code> - Version: configurable via release or branch - Config Directory: <code>/riven/frontend</code></p>"},{"location":"services/#-zilean","title":"\ud83e\udde0 Zilean","text":"<p>Caches metadata and hash lookups to reduce repeat requests for the same content. Written in .NET and Python. - Default Port: <code>8182</code> - Config File: <code>/zilean/app/data/settings.json</code> - Environment variables are automatically injected for performance and compatibility.</p>"},{"location":"services/#-zurg","title":"\u26a1 Zurg","text":"<p>A content fetching engine that connects to debrid services (currently Real-Debrid only) and feeds downloads to Rclone. - Default Port: <code>9090</code> - Config Directory: <code>/zurg/RD</code> - Config File: <code>/zurg/RD/config.yml</code></p>"},{"location":"services/#-next-steps","title":"\ud83d\udcce Next Steps","text":"<p>Click on any of the service names in the sidebar or below to explore how to configure and use them: - pgAdmin 4 - PostgreSQL - rclone - Riven Backend - Riven Frontend - Zilean - Zurg</p>"},{"location":"services/dmb-frontend/","title":"DMB Frontend","text":"<p>The DMB Frontend is a web-based user interface designed to enhance the management and monitoring of the Debrid Media Bridge (DMB) ecosystem. It offers features such as real-time service logs, filtering options, and service control functionalities, providing users with an intuitive platform to interact with DMB services.</p>"},{"location":"services/dmb-frontend/#-configuration-settings-in-dmb_configjson","title":"\u2699\ufe0f Configuration Settings in <code>dmb_config.json</code>","text":"<p>To integrate the DMB Frontend into your setup, you can add the following configuration to your <code>dmb_config.json</code> file:</p> <pre><code>{\n  \"dmb_frontend\": {\n    \"enabled\": true,\n    \"process_name\": \"DMB Frontend\",\n    \"repo_owner\": \"nicocapalbo\",\n    \"repo_name\": \"dmbdb\",\n    \"release_version_enabled\": true,\n    \"release_version\": \"v1.7.2\",\n    \"branch_enabled\": false,\n    \"branch\": \"main\",\n    \"suppress_logging\": false,\n    \"log_level\": \"INFO\",\n    \"host\": \"0.0.0.0\",\n    \"port\": 3000,\n    \"auto_update\": true,\n    \"auto_update_interval\": 24,\n    \"clear_on_update\": true,\n    \"exclude_dirs\": [],\n    \"platforms\": [\"nodejs\"],\n    \"command\": [\"node\", \"build\"],\n    \"config_dir\": \"/dmb/frontend\",\n    \"env\": {\n      \"DMB_API_URL\": \"http://localhost:5000/api\"\n    }\n  }\n}\n</code></pre>"},{"location":"services/dmb-frontend/#-configuration-key-descriptions","title":"\ud83d\udd0d Configuration Key Descriptions","text":"<ul> <li><code>enabled</code>: Determines whether the DMB Frontend service is active.</li> <li><code>process_name</code>: Name used in logs and process tracking.</li> <li><code>repo_owner</code> / <code>repo_name</code>: Specifies the GitHub repository to clone for the frontend.</li> <li><code>release_version_enabled</code> / <code>release_version</code>: Indicates if a specific release version should be used.</li> <li><code>branch_enabled</code> / <code>branch</code>: Specifies the branch to use if enabled.</li> <li><code>suppress_logging</code>: If <code>true</code>, disables log output for this service.</li> <li><code>log_level</code>: Logging verbosity level (e.g., <code>DEBUG</code>, <code>INFO</code>).</li> <li><code>host</code>: IP address the frontend should bind to.</li> <li><code>port</code>: Port the frontend is served on.</li> <li><code>auto_update</code>: Enables automatic self-updates.</li> <li><code>auto_update_interval</code>: How often (in hours) to check for updates.</li> <li><code>clear_on_update</code>: Clears build artifacts or cache during updates.</li> <li><code>exclude_dirs</code>: Prevents specific directories from being affected by updates when using <code>clear_on_update</code></li> <li><code>platforms</code>: Specifies the runtime environment required (<code>nodejs</code>).</li> <li><code>command</code>: Command to start the frontend service.</li> <li><code>config_dir</code>: Directory where configuration files are stored.</li> <li><code>env</code>: Environment variables for the frontend, such as <code>DMB_API_URL</code> pointing to the DMB API endpoint.</li> </ul>"},{"location":"services/dmb-frontend/#-branch--version-targeting","title":"\u2699\ufe0f Branch / Version Targeting","text":"<p>You can control which version or branch of the frontend is deployed by setting:</p> <ul> <li><code>branch_enabled: true</code> and specifying a <code>branch</code></li> <li>or <code>release_version_enabled: true</code> and specifying a <code>release_version</code></li> </ul>"},{"location":"services/dmb-frontend/#-user-interface-overview","title":"\ud83d\udcf8 User Interface Overview","text":""},{"location":"services/dmb-frontend/#service-dashboard","title":"Service Dashboard","text":"<p>The Service Dashboard displays all active services, showing their status and providing control options.</p>"},{"location":"services/dmb-frontend/#real-time-logs","title":"Real-Time Logs","text":"<p>The Real-Time Logs section allows for:</p> <ul> <li>Filtering logs by text entry or drop-down menu (log levels and process names).</li> <li>Setting the number of log lines to capture.</li> <li>Downloading captured logs automatically named DMB_logs.txt.</li> <li>Pausing and resuming real-time logs.</li> </ul>"},{"location":"services/dmb-frontend/#viewing-and-modifying-configurations","title":"Viewing and Modifying Configurations","text":""},{"location":"services/dmb-frontend/#edit-dmb-config","title":"Edit DMB Config","text":"<p>For each listed service, users can view and modify the <code>dmb_config.json</code> configuration. Changes can be applied temporarily (saved in memory) or permanently (saved to file).</p>"},{"location":"services/dmb-frontend/#edit-service-config","title":"Edit Service Config","text":"<p>For services with additional settings, this option allows similar modifications for the service-specific configuration files.</p>"},{"location":"services/dmb-frontend/#viewing-logs-for-services","title":"Viewing Logs for Services","text":"<p>For services with log files, this view allows:</p> <ul> <li>Viewing the latest logs (since the last service start).</li> <li>Filtering logs (by log levels, log lines).</li> <li>Downloading logs, automatically named based on the service.</li> </ul>"},{"location":"services/dmb-frontend/#-tips","title":"\ud83e\udde0 Tips","text":"<ul> <li>Automatic Updates: Enable <code>auto_update</code> to keep the frontend up-to-date with the latest features.</li> <li>Log Monitoring: Utilize the service logs functionality for effective monitoring and troubleshooting.</li> </ul>"},{"location":"services/dmb-frontend/#-resources","title":"\ud83d\udcda Resources","text":"<ul> <li>DMB Frontend GitHub Repository</li> <li>DMB Frontend CHANGELOG</li> </ul>"},{"location":"services/pgadmin/","title":"pgAdmin 4","text":"<p>pgAdmin 4 is a web-based administration tool for managing PostgreSQL databases. DMB includes pgAdmin pre-installed and configured to work out of the box, allowing you to inspect, query, and back up your databases directly from a browser.</p>"},{"location":"services/pgadmin/#-accessing-pgadmin","title":"\ud83d\udeaa Accessing pgAdmin","text":"<ul> <li>Navigate to: <code>http://&lt;host&gt;:5050</code></li> <li>Login using the credentials set via environment variables:</li> <li><code>PGADMIN_SETUP_EMAIL</code> (default: <code>DMB@DMB.DMB</code>)</li> <li><code>PGADMIN_SETUP_PASSWORD</code> (default: <code>postgres</code>)</li> </ul> <p>The email is used as the username. It does not need to be a real email address.</p> <p></p>"},{"location":"services/pgadmin/#-server-configuration","title":"\ud83d\udd10 Server Configuration","text":"<ul> <li>pgAdmin is preconfigured with a server connection named DMB.</li> <li>On first login, you must enter the password for the PostgreSQL server connection.</li> <li>Default password: <code>postgres</code></li> <li>Or, use the value of <code>POSTGRES_PASSWORD</code> if set in your environment.</li> </ul>"},{"location":"services/pgadmin/#-extensions","title":"\u2699\ufe0f Extensions","text":"<p>The following PostgreSQL extensions are included in the DMB image:</p>"},{"location":"services/pgadmin/#-system_stats","title":"\ud83d\udcc8 <code>system_stats</code>","text":"<p>Provides system performance statistics inside PostgreSQL. - Find it in the pgAdmin dashboard under the connected database (e.g., <code>pgadmin</code> or <code>riven</code>).</p> <p></p>"},{"location":"services/pgadmin/#-pgagent","title":"\ud83d\udcc5 <code>pgAgent</code>","text":"<p>A job scheduler for PostgreSQL. Useful for: - Scheduling backups - Routine maintenance</p> <p></p>"},{"location":"services/pgadmin/#-example-scheduled-backups-with-pgagent","title":"\ud83d\udcbe Example: Scheduled Backups with pgAgent","text":"<ol> <li>Navigate to <code>pgAgent Jobs</code> under your connected DMB server.</li> <li> <p>Right-click \u2192 <code>Create \u2192 pgAgent Job</code></p> <p></p> </li> <li> <p>Enter the job name and any comments you like:</p> <p></p> </li> <li> <p>In the Steps tab, click the <code>+</code> button to Add row to the steps:</p> <p></p> </li> <li> <p>Click the <code>pencil</code> icon to edit the new row and configure the step:</p> <p></p> </li> <li> <p>Enter a step name and select <code>Kind</code> = <code>Batch</code>:</p> <p></p> </li> <li> <p>Add backup commands to the Code tab:</p> <p>The following code is an example of a backup command. You may need to modify it to suit your needs.</p> <pre><code>pg_dump --username=DMB --dbname=riven --clean --file=/pgadmin/data/riven_backup-`date +%Y-%m-%d-%H-%M-%S`.sql\npg_dump --username=DMB --dbname=zilean --clean --file=/pgadmin/data/zilean_backup-`date +%Y-%m-%d-%H-%M-%S`.sql\n</code></pre> <p></p> </li> <li> <p>Click on the Schedules tab to set the schedule for the backup.</p> </li> <li> <p>As before with the Steps, add a row to add a new schedule, and edit the row to configure the schedule.</p> </li> <li> <p>Enter the schedule name, select the Enabled? toggle, and set the Start and End dates for the schedule.</p> <p></p> </li> <li> <p>On the Repeat tab, set the repeat frequency (e.g., daily at 12:00 AM):</p> <p></p> </li> <li> <p>Click Save to save the scheduled backup job.</p> </li> </ol> <p>Backups are stored in <code>/pgadmin/data</code>.</p>"},{"location":"services/pgadmin/#-more-info","title":"\ud83d\udcda More Info","text":"<ul> <li>pgAdmin Docs</li> <li>pgAgent Job Scheduler</li> </ul>"},{"location":"services/pgadmin/#-summary","title":"\ud83e\udde0 Summary","text":"Setting Value UI Address <code>http://&lt;host&gt;:5050</code> Default Email/Username <code>DMB@DMB.DMB</code> Default Password <code>postgres</code> Data Directory <code>/pgadmin/data</code> Config File <code>/pgadmin/data/config_local.py</code>"},{"location":"services/postgres/","title":"PostgreSQL","text":"<p>PostgreSQL is the core database system used by DMB to store metadata and internal configuration for services like Riven, Zilean, and pgAdmin. It is pre-installed and automatically initialized during container startup.</p>"},{"location":"services/postgres/#-access--credentials","title":"\ud83d\udeaa Access &amp; Credentials","text":"<ul> <li>Default Port: <code>5432</code></li> <li>Default User: <code>DMB</code></li> <li>Default Password: <code>postgres</code></li> <li>Default Databases:</li> <li><code>postgres</code></li> <li><code>pgadmin</code></li> <li><code>zilean</code></li> <li><code>riven</code></li> </ul> <p>\ud83d\udd10 Override any of the above using <code>POSTGRES_USER</code>, <code>POSTGRES_PASSWORD</code>, or <code>POSTGRES_DB</code> environment variables.</p>"},{"location":"services/postgres/#-data--config-paths","title":"\ud83d\udcc1 Data &amp; Config Paths","text":"Purpose Path Data Directory <code>/postgres_data</code> Config File <code>/postgres_data/postgresql.conf</code> Runtime Directory <code>/run/postgresql</code>"},{"location":"services/postgres/#-useful-commands","title":"\ud83e\udde0 Useful Commands","text":""},{"location":"services/postgres/#-run-sql-command-directly-one-liner","title":"\ud83d\udce6 Run SQL Command Directly (one-liner)","text":"<pre><code>docker exec -it DMB psql -U DMB -d riven -c 'SELECT COUNT(*) FROM media;'\n</code></pre>"},{"location":"services/postgres/#-enter-the-container--postgresql-shell","title":"\ud83e\udded Enter the Container &amp; PostgreSQL Shell","text":"<pre><code>docker exec -it DMB /bin/bash\npsql -U DMB -d riven\n</code></pre>"},{"location":"services/postgres/#-drop-the-riven-database","title":"\ud83d\uddd1\ufe0f Drop the Riven Database","text":"<p>\u26a0\ufe0f This will permanently delete the Riven database. Be sure you\u2019ve backed up anything important.</p> <p>From the host (one-liner): <pre><code>docker exec -it DMB psql -U DMB -c 'DROP DATABASE riven;'\n</code></pre></p> <p>From inside the container: <pre><code>docker exec -it DMB /bin/bash\npsql -U DMB\nDROP DATABASE riven;\n</code></pre></p>"},{"location":"services/postgres/#-configurable-settings-in-dmb_configjson","title":"\u2699\ufe0f Configurable Settings in <code>dmb_config.json</code>","text":"<pre><code>\"postgres\": {\n  \"enabled\": false,\n  \"process_name\": \"PostgreSQL\",\n  \"suppress_logging\": false,\n  \"log_level\": \"INFO\",\n  \"user\": \"DMB\",\n  \"password\": \"postgres\",\n  \"host\": \"127.0.0.1\",\n  \"port\": 5432,\n  \"shared_buffers\": \"128MB\",\n  \"max_connections\": 100,\n  \"databases\": [\n    { \"name\": \"postgres\", \"enabled\": true },\n    { \"name\": \"pgadmin\", \"enabled\": true },\n    { \"name\": \"zilean\", \"enabled\": true },\n    { \"name\": \"riven\", \"enabled\": true }\n  ],\n  \"config_dir\": \"/postgres_data\",\n  \"config_file\": \"/postgres_data/postgresql.conf\",\n  \"initdb_args\": \"--data-checksums\",\n  \"user\": \"DMB\",\n  \"password\": \"postgres\",\n  \"shared_buffers\": \"128MB\",\n  \"max_connections\": 100,\n  \"run_directory\": \"/run/postgresql\",\n  \"command\": \"postgres -D {postgres_config_dir} -c config_file={postgres_config_file}\",\n  \"env\": {}  \n}\n</code></pre>"},{"location":"services/postgres/#-configuration-key-descriptions","title":"\ud83d\udd0d Configuration Key Descriptions","text":"<ul> <li><code>enabled</code>: Whether to start the PostgreSQL service.</li> <li><code>process_name</code>: The label used in logs and process tracking.</li> <li><code>suppress_logging</code>: If <code>true</code>, disables log output for this service.</li> <li><code>log_level</code>: Logging verbosity level (e.g., <code>DEBUG</code>, <code>INFO</code>).</li> <li>user/password \u2013 Default database credentials.</li> <li>shared_buffers \u2013 Amount of memory allocated to PostgreSQL.</li> <li>max_connections \u2013 Maximum simultaneous database connections.</li> <li>databases \u2013 List of databases to initialize, with each entry containing:<ul> <li>name \u2013 Name of the database.</li> <li>enabled \u2013 Whether this database should be created.</li> </ul> </li> <li>config_dir \u2013 Directory where PostgreSQL configuration files are stored.</li> <li>config_file \u2013 Path to the primary PostgreSQL configuration file.</li> <li>initdb_args \u2013 Additional arguments passed to initdb during database initialization.</li> <li>run_directory \u2013 Directory where PostgreSQL runtime files (like sockets) are stored.</li> <li>command \u2013 The command used to start PostgreSQL.</li> <li>env \u2013 Dictionary of environment variables passed to the process.</li> </ul>"},{"location":"services/postgres/#-tips","title":"\ud83e\udde0 Tips","text":"<ul> <li>Always restart the container after modifying config files in <code>/postgres_data</code>.</li> <li>Ensure you mount <code>/postgres_data</code> if you want persistent databases.</li> <li>pgAdmin is the easiest way to visually explore and manage PostgreSQL.</li> </ul>"},{"location":"services/postgres/#-more-info","title":"\ud83d\udcda More Info","text":"<ul> <li>PostgreSQL Documentation</li> </ul>"},{"location":"services/rclone/","title":"rclone","text":"<p>rclone is a command-line tool used in DMB to mount cloud storage\u2014specifically Debrid services like Real-Debrid\u2014into the container as a local file system. It works in tandem with Zurg and is configured automatically during container startup.</p>"},{"location":"services/rclone/#-configuration-summary","title":"\u2699\ufe0f Configuration Summary","text":"<p>Each <code>rclone</code> instance is defined under the <code>rclone.instances</code> section in <code>dmb_config.json</code>. Example: <pre><code>\"rclone\": {\n  \"instances\": {\n    \"RealDebrid\": {\n      \"enabled\": true,\n      \"process_name\": \"rclone w/ RealDebrid\",\n      \"suppress_logging\": false,\n      \"log_level\": \"INFO\",\n      \"key_type\": \"RealDebrid\",\n      \"zurg_enabled\": true,\n      \"mount_dir\": \"/data\",\n      \"mount_name\": \"rclone_RD\",\n      \"cache_dir\": \"/cache\",\n      \"config_dir\": \"/config\",\n      \"config_file\": \"/config/rclone.config\",\n      \"zurg_config_file\": \"/zurg/RD/config.yml\",\n      \"command\": [],\n      \"api_key\": \"\"\n    }\n  }\n}\n</code></pre></p>"},{"location":"services/rclone/#-configuration-key-descriptions","title":"\ud83d\udd0d Configuration Key Descriptions","text":"<ul> <li><code>enabled</code>: Whether this rclone instance should be started.</li> <li><code>process_name</code>: The label used in logs and process tracking.</li> <li><code>suppress_logging</code>: If <code>true</code>, disables log output for this service.</li> <li><code>log_level</code>: Logging verbosity level (e.g., <code>DEBUG</code>, <code>INFO</code>).</li> <li><code>key_type</code>: The debrid service to use (<code>RealDebrid</code>, <code>AllDebrid</code>, etc.).</li> <li><code>zurg_enabled</code>: Whether Zurg is linked to this rclone mount.</li> <li><code>mount_dir</code>: The container path where the remote drive is to be mounted.</li> <li><code>mount_name</code>: The rclone remote name.</li> <li><code>cache_dir</code>: Directory used by rclone for VFS caching, when enabled.</li> <li><code>config_dir</code>: Directory where the rclone config file is stored.</li> <li><code>config_file</code>: Full path to the rclone configuration file.</li> <li><code>zurg_config_file</code>: Full path to the Zurg config file for this instance.</li> <li><code>command</code>: Custom CLI arguments to be appended to rclone at runtime.</li> <li><code>api_key</code>: (Optional) Debrid API key, used if Zurg is not linked.</li> </ul>"},{"location":"services/rclone/#-api-key-behavior","title":"\ud83d\udd01 API Key Behavior","text":"<ul> <li>If <code>zurg_enabled</code> &amp; <code>zurg_config_file</code> are set: DMB will configure rclone to use Zurg's WebDAV endpoint. The API key should be defined in the Zurg instance, not the rclone one.</li> <li>If <code>zurg_enabled</code> &amp; <code>zurg_config_file</code> are unset or blank: (Future release) DMB will configure rclone to directly connect to the debrid service, and the API key must be set in the rclone instance.</li> </ul>"},{"location":"services/rclone/#-adding-more-instances","title":"\u2795 Adding More Instances","text":"<p>Users can define additional rclone instances by duplicating the structure and ensuring:</p> <ul> <li>Each <code>instance name</code> is unique</li> <li>Each <code>process_name</code> is unique</li> <li>The <code>key_type</code> must match the type of Debrid service used (e.g., <code>RealDebrid</code>, <code>AllDebrid</code>, <code>TorBox</code>, <code>Premiumize</code>)</li> </ul> <p>Example: <pre><code>\"rclone\": {\n  \"instances\": {\n    \"RealDebrid\": {\n      \"enabled\": true,\n      \"process_name\": \"rclone w/ RealDebrid\",\n      \"suppress_logging\": false,\n      \"log_level\": \"INFO\",\n      \"key_type\": \"RealDebrid\",\n      \"zurg_enabled\": true,\n      \"mount_dir\": \"/data\",\n      \"mount_name\": \"rclone_RD\",\n      \"cache_dir\": \"/cache\",\n      \"config_dir\": \"/config\",\n      \"config_file\": \"/config/rclone.config\",\n      \"zurg_config_file\": \"/zurg/RD/config.yml\",\n      \"command\": [],\n      \"api_key\": \"\"\n    },    \n    \"AllDebrid\": {\n      \"enabled\": false,\n      \"process_name\": \"rclone w/ AllDebrid\",\n      \"suppress_logging\": false,\n      \"log_level\": \"INFO\",\n      \"key_type\": \"AllDebrid\",\n      \"zurg_enabled\": false,\n      \"mount_dir\": \"/data\",\n      \"mount_name\": \"rclone_AD\",\n      \"cache_dir\": \"/cache\",\n      \"config_dir\": \"/config\",\n      \"config_file\": \"/config/rclone.config\",\n      \"zurg_config_file\": \"\",\n      \"command\": [],\n      \"api_key\": \"\"\n    }\n  }\n}\n</code></pre></p>"},{"location":"services/rclone/#-features-enabled-by-dmb","title":"\ud83e\udde0 Features Enabled by DMB","text":""},{"location":"services/rclone/#-auto-generated-rcloneconfig","title":"\ud83d\udd04 Auto-Generated <code>rclone.config</code>","text":"<p>DMB generates the required <code>rclone.config</code> file at runtime. This includes: <pre><code>[rclone_RD]\ntype = webdav\nurl = http://localhost:9999/dav\nvendor = other\npacer_min_sleep = 0\n</code></pre> This eliminates the need for any manual setup.</p>"},{"location":"services/rclone/#-debrid-api-integration","title":"\ud83d\udd12 Debrid API Integration","text":"<p>DMB supports multiple Debrid configurations (Future release) using a combination of <code>rclone</code> and <code>zurg</code> instances.</p>"},{"location":"services/rclone/#-works-with-zurg","title":"\ud83e\uddf2 Works With Zurg","text":"<p>Zurg exposes a WebDAV server which rclone mounts using the configuration above.</p>"},{"location":"services/rclone/#-rclone-flags-via-environment-variables","title":"\ud83d\udd27 rclone Flags via Environment Variables","text":"<p>All <code>--flag=value</code> options in rclone can be passed as environment variables. Format: <pre><code>RCLONE_&lt;OPTION_NAME_UPPERCASE&gt;=&lt;value&gt;\n</code></pre> Example: <pre><code>RCLONE_VFS_CACHE_MODE=full\nRCLONE_BUFFER_SIZE=64M\nRCLONE_ATTR_TIMEOUT=30s\n</code></pre> This enables advanced control without modifying CLI or config files.</p> <p>For more info, see rclone docs.</p>"},{"location":"services/rclone/#-accessing-rclone-inside-the-container","title":"\ud83d\udcbb Accessing rclone Inside the Container","text":"<p>To run rclone commands manually: <pre><code>docker exec -it DMB /bin/bash\nrclone listremotes\nrclone mount rclone_RD: /mnt/test\n</code></pre></p>"},{"location":"services/rclone/#-tips","title":"\ud83e\udde0 Tips","text":"<ul> <li>Mounts are bind-mounted into the container by default.</li> <li>If you mount <code>/data</code> to the host, you will see all Zurg-fetched content.</li> <li>Use the <code>ZURG_LOG_LEVEL</code> or <code>RCLONE_LOG_LEVEL</code> env vars to control verbosity.</li> </ul>"},{"location":"services/rclone/#-resources","title":"\ud83d\udcda Resources","text":"<ul> <li>rclone Documentation</li> <li>WebDAV Docs</li> <li>rclone Environment Variables</li> </ul>"},{"location":"services/riven-backend/","title":"Riven Backend Configuration","text":"<p>The Riven Backend is the core component responsible for data handling, automation, API integrations, and scraping within the Riven ecosystem. Proper configuration ensures seamless integration with services like Overseerr, Plex, and Trakt.</p>"},{"location":"services/riven-backend/#configuration-settings-in-dmb_configjson","title":"Configuration Settings in <code>dmb_config.json</code>","text":"<p>Below is a sample configuration for the Riven Backend:</p> <pre><code>{\n    \"riven_backend\": {\n        \"enabled\": true,\n        \"process_name\": \"Riven Backend\",\n        \"repo_owner\": \"rivenmedia\",\n        \"repo_name\": \"riven\",\n        \"release_version_enabled\": false,\n        \"release_version\": \"v0.20.1\",\n        \"branch_enabled\": false,\n        \"branch\": \"release-please--branches--main\",\n        \"suppress_logging\": false,\n        \"log_level\": \"INFO\",\n        \"host\": \"127.0.0.1\",\n        \"port\": 8080,\n        \"auto_update\": false,\n        \"auto_update_interval\": 24,\n        \"symlink_library_path\": \"/mnt\",\n        \"clear_on_update\": true,\n        \"exclude_dirs\": [\n            \"/riven/backend/data\"\n        ],\n        \"env_copy\": {\n            \"source\": \"/riven/backend/data/.env\",\n            \"destination\": \"/riven/backend/src/.env\"\n        },\n        \"platforms\": [\n            \"python\"\n        ],\n        \"command\": [\n            \"/riven/backend/venv/bin/python\",\n            \"src/main.py\",\n            \"-p\",\n            \"{port}\"\n        ],\n        \"config_dir\": \"/riven/backend\",\n        \"config_file\": \"/riven/backend/data/settings.json\",        \n        \"env\": {},\n        \"wait_for_dir\": \"/data/rclone_RD/__all__\"\n    },\n}\n</code></pre>"},{"location":"services/riven-backend/#-configuration-key-descriptions","title":"\ud83d\udd0d Configuration Key Descriptions","text":"<ul> <li><code>enabled</code>: Whether to start the Riven Backend service.</li> <li><code>process_name</code>: Used in logs and process tracking.</li> <li><code>host</code>: IP address for the backend to listen on.</li> <li><code>port</code>: Port exposed for the API.</li> <li><code>repo_owner</code> / <code>repo_name</code>: GitHub repo to pull from.</li> <li><code>release_version_enabled</code> / <code>release_version</code>: Use a tagged release if enabled.</li> <li><code>branch_enabled</code> / <code>branch</code>: Use a specific branch if enabled.</li> <li><code>suppress_logging</code>: If <code>true</code>, disables log output for this service.</li> <li><code>log_level</code>: Logging verbosity level (e.g., <code>DEBUG</code>, <code>INFO</code>).</li> <li><code>host</code>: IP address the backend should bind to.</li> <li><code>port</code>: Port the backend API is served on.</li> <li><code>auto_update</code>: Enables automatic self-updates.</li> <li><code>auto_update_interval</code>: How often (in hours) to check for updates.</li> <li><code>symlink_library_path</code>: Target path for media symlinks.</li> <li><code>clear_on_update</code>: Clears build artifacts or cache during updates.</li> <li><code>exclude_dirs</code>: Prevents specific directories from being affected by updates when using <code>clear_on_update</code></li> <li><code>env_copy</code>: Copies a <code>.env</code> file from one location to another. Such as the Riven .env discussed below</li> <li><code>platforms</code>: Expected runtime environment (e.g., <code>python</code>).</li> <li><code>command</code>: How the service is started.</li> <li><code>config_dir</code> / <code>config_file</code>: Configuration directory and settings file.</li> <li><code>env</code>: Dictionary of environment variables passed to the process.</li> <li><code>wait_for_dir</code>: Delays startup until the specified directory exists.</li> </ul>"},{"location":"services/riven-backend/#-branch--version-targeting","title":"\u2699\ufe0f Branch / Version Targeting","text":"<p>You can control which version or branch of the backend is deployed by setting:</p> <ul> <li><code>branch_enabled: true</code> and specifying a <code>branch</code></li> <li>or <code>release_version_enabled: true</code> and specifying a <code>release_version</code></li> </ul>"},{"location":"services/riven-backend/#-setting-up-riven-backend","title":"\ud83d\udee0\ufe0f Setting Up Riven Backend","text":"<p>Riven Backend is the only service which will require additional setup before use.</p> <p>Item </p>"},{"location":"services/riven-backend/#rivens-environment-variables-in-the-envexample","title":"Riven's Environment Variables in the <code>.env.example</code>","text":"<p>The <code>.env.example</code> file includes:</p> <ul> <li><code>RIVEN_FORCE_ENV</code>: Forces env vars to override <code>settings.json</code>.</li> <li><code>SETTINGS_FILENAME</code>: Specifies the settings file name.</li> <li><code>SKIP_TRAKT_CACHE</code>: Skips cached results.</li> <li><code>HARD_RESET</code>: Drops and recreates all database tables.</li> <li><code>REPAIR_SYMLINKS</code>: Fixes any broken symlinks.</li> <li><code>API_KEY</code>: Custom static API key.</li> <li><code>WORKERS</code>: Number of indexing workers.</li> </ul> <p>Each Riven env can also be set within DMB, either through the \"env\" section of the \"riven_backend\" within the <code>dmb_config.json</code>, or buy utilizing methods defined in the Configuration section of the docs.</p> <p>View full example on GitHub</p>"},{"location":"services/riven-backend/#additional-resources","title":"Additional Resources","text":"<ul> <li>Riven Wiki</li> <li>Riven GitHub Repository</li> </ul>"},{"location":"services/riven-frontend/","title":"Riven Frontend","text":"<p>The Riven Frontend is the web-based interface for interacting with the Riven Backend. It allows users to manage settings, content, and integrations from a clean and modern UI.</p> <p>DMB handles automatic installation and updates of the frontend, including versioning and branch targeting. It is served by a lightweight web server and preconfigured to communicate with the backend at startup.</p>"},{"location":"services/riven-frontend/#-access","title":"\ud83c\udf10 Access","text":"<ul> <li>Default Port: <code>3001</code></li> <li>Navigate to: <code>http://&lt;host&gt;:3001</code></li> </ul> <p>\ud83d\udd10 If using a reverse proxy, ensure the <code>ORIGIN</code> environment variable matches the external URL.</p>"},{"location":"services/riven-frontend/#-configuration-settings-in-dmb_configjson","title":"\u2699\ufe0f Configuration Settings in <code>dmb_config.json</code>","text":"<pre><code>\"riven_frontend\": {\n  \"enabled\": false,\n  \"process_name\": \"Riven Frontend\",\n  \"repo_owner\": \"rivenmedia\",\n  \"repo_name\": \"riven-frontend\",\n  \"release_version_enabled\": false,\n  \"release_version\": \"v0.17.0\",\n  \"branch_enabled\": false,\n  \"branch\": \"release-please--branches--main\",\n  \"suppress_logging\": false,\n  \"log_level\": \"INFO\",\n  \"host\": \"127.0.0.1\",\n  \"port\": 3001,\n  \"auto_update\": false,\n  \"auto_update_interval\": 24,\n  \"clear_on_update\": true,\n  \"exclude_dirs\": [],\n  \"platforms\": [\"pnpm\"],\n  \"command\": [\"node\", \"build\"],\n  \"config_dir\": \"/riven/frontend\",\n  \"env\": {\n    \"ORIGIN\": \"http://0.0.0.0:{port}\",\n    \"PORT\": \"{port}\",\n    \"HOST\": \"{host}\"\n  }\n}\n</code></pre>"},{"location":"services/riven-frontend/#-configuration-key-descriptions","title":"\ud83d\udd0d Configuration Key Descriptions","text":"<ul> <li><code>enabled</code>: Whether to start the Riven Frontend service.</li> <li><code>process_name</code>: Used in logs and process tracking.</li> <li><code>repo_owner</code> / <code>repo_name</code>: GitHub repo to pull from.</li> <li><code>release_version_enabled</code> / <code>release_version</code>: Use a tagged GitHub release if enabled.</li> <li><code>branch_enabled</code> / <code>branch</code>: Pull a specific GitHub branch if enabled.</li> <li><code>suppress_logging</code>: If <code>true</code>, disables log output for this service.</li> <li><code>log_level</code>: Logging verbosity level (e.g., <code>DEBUG</code>, <code>INFO</code>).</li> <li><code>host</code>: IP address the frontend should bind to.</li> <li><code>port</code>: Port the frontend is served on.</li> <li><code>auto_update</code>: Enables automatic self-updates.</li> <li><code>auto_update_interval</code>: How often (in hours) to check for updates.</li> <li><code>clear_on_update</code>: Clears build artifacts or cache during updates.</li> <li><code>exclude_dirs</code>: Prevents specific directories from being affected by updates when using <code>clear_on_update</code></li> <li><code>platforms</code>: Expected runtime environment (e.g., <code>pnpm</code>).</li> <li><code>command</code>: Command used to build or start the frontend service.</li> <li><code>config_dir</code>: Directory where the frontend files are stored.</li> <li><code>env</code>: Dictionary of environment variables passed to the process (e.g., <code>PORT</code>, <code>ORIGIN</code>, <code>HOST</code>).</li> </ul>"},{"location":"services/riven-frontend/#-origin-variable","title":"\ud83d\udd27 ORIGIN Variable","text":"<p>The <code>ORIGIN</code> environment variable must match the public-facing URL used to access the frontend. This is particularly important when using a reverse proxy like Traefik or Nginx. It ensures correct behavior for authentication, saving settings, and API communication.</p>"},{"location":"services/riven-frontend/#-branch--version-targeting","title":"\u2699\ufe0f Branch / Version Targeting","text":"<p>You can control which version or branch of the frontend is deployed by setting:</p> <ul> <li><code>branch_enabled: true</code> and specifying a <code>branch</code></li> <li>or <code>release_version_enabled: true</code> and specifying a <code>release_version</code></li> </ul>"},{"location":"services/riven-frontend/#-tips","title":"\ud83e\udde0 Tips","text":"<ul> <li>The frontend depends on the backend being reachable at <code>http://&lt;host&gt;:8080</code></li> <li>Use Docker port mappings if needed to expose the frontend</li> <li>Check <code>PORT</code> and <code>ORIGIN</code> values if the UI fails to load</li> </ul>"},{"location":"services/riven-frontend/#-resources","title":"\ud83d\udcda Resources","text":"<ul> <li>Riven Frontend GitHub</li> </ul>"},{"location":"services/zilean/","title":"Zilean","text":"<p>Zilean is a service that enables users to search for content sourced by DebridMediaManager (DMB) and shared by others. It can be configured as a Torznab indexer in various content applications, allowing seamless integration and content discovery. Additionally, Zilean can scrape data from a running Zurg instance and other Zilean instances. </p>"},{"location":"services/zilean/#-configuration-settings-in-dmb_configjson","title":"\u2699\ufe0f Configuration Settings in <code>dmb_config.json</code>","text":"<p>Below is a sample configuration for Zilean within the <code>dmb_config.json</code> file:</p> <pre><code>{\n  \"zilean\": {\n    \"enabled\": true,\n    \"process_name\": \"Zilean\",\n    \"repo_owner\": \"iPromKnight\",\n    \"repo_name\": \"zilean\",\n    \"release_version_enabled\": false,\n    \"release_version\": \"v3.3.0\",\n    \"branch_enabled\": false,\n    \"branch\": \"main\",\n    \"suppress_logging\": false,\n    \"log_level\": \"INFO\",\n    \"host\": \"127.0.0.1\",\n    \"port\": 8182,\n    \"auto_update\": false,\n    \"auto_update_interval\": 24,\n    \"clear_on_update\": true,\n    \"exclude_dirs\": [\"/zilean/app/data\"],\n    \"env_copy\": {\n      \"source\": \"/zilean/app/data/.env\",\n      \"destination\": \"/zilean/app/src/.env\"\n    },\n    \"platforms\": [\"python\", \"dotnet\"],\n    \"command\": [\"/zilean/app/zilean-api\"],\n    \"config_dir\": \"/zilean\",\n    \"config_file\": \"/zilean/app/data/settings.json\",\n    \"env\": {\n      \"DOTNET_RUNNING_IN_CONTAINER\": \"true\",\n      \"DOTNET_gcServer\": \"1\",\n      \"DOTNET_GCDynamicAdaptationMode\": \"1\",\n      \"DOTNET_SYSTEM_GLOBALIZATION_INVARIANT\": \"false\",\n      \"PYTHONUNBUFFERED\": \"1\",\n      \"ASPNETCORE_URLS\": \"http://+:{port}\",\n      \"PYTHONPATH\": \"/zilean/venv/lib/python3.11/site-packages\",\n      \"PATH\": \"/zilean/venv/bin:${PATH}\",\n      \"ZILEAN_PYTHON_PYLIB\": \"/usr/local/lib/libpython3.11.so.1.0\",\n      \"Zilean__Database__ConnectionString\": \"Host={postgres_host};Port={postgres_port};Database=zilean;Username={postgres_user};Password={postgres_password};Timeout=300;CommandTimeout=3600;\"\n    }\n  }\n}\n</code></pre>"},{"location":"services/zilean/#-configuration-key-descriptions","title":"\ud83d\udd0d Configuration Key Descriptions","text":"<ul> <li><code>enabled</code>: Whether to start the Zilean service.</li> <li><code>process_name</code>: Used in logs and process tracking.</li> <li><code>repo_owner</code> / <code>repo_name</code>: GitHub repo to pull from.</li> <li><code>release_version_enabled</code> / <code>release_version</code>: Use a tagged release if enabled.</li> <li><code>branch_enabled</code> / <code>branch</code>: Use a specific branch if enabled.</li> <li><code>suppress_logging</code>: If <code>true</code>, disables log output for this service.</li> <li><code>log_level</code>: Logging verbosity (e.g., <code>DEBUG</code>, <code>INFO</code>).</li> <li><code>host</code>: IP address for the Zilean service to bind to.</li> <li><code>port</code>: Port the Zilean API is exposed on.</li> <li><code>auto_update</code>: Enables automatic self-updates.</li> <li><code>auto_update_interval</code>: How often (in hours) to check for updates.</li> <li><code>clear_on_update</code>: Clears build artifacts or cache during updates.</li> <li><code>exclude_dirs</code>: Prevents specific directories from being affected by updates when using <code>clear_on_update</code></li> <li><code>env_copy</code>: Paths to copy a <code>.env</code> file from source to destination for runtime support.</li> <li><code>platforms</code>: Required environments\u2014Zilean uses both .NET and Python.</li> <li><code>command</code>: The binary or command used to launch Zilean.</li> <li><code>config_dir</code> / <code>config_file</code>: Where configuration files are stored and loaded.</li> <li><code>env</code>: Dictionary of environment variables passed at runtime, including:</li> <li><code>DOTNET_RUNNING_IN_CONTAINER</code>: Informs .NET that it is containerized.</li> <li><code>DOTNET_gcServer</code>: Enables server-mode garbage collection.</li> <li><code>DOTNET_GCDynamicAdaptationMode</code>: Adjusts GC behavior adaptively.</li> <li><code>DOTNET_SYSTEM_GLOBALIZATION_INVARIANT</code>: Controls globalization features.</li> <li><code>PYTHONUNBUFFERED</code>: Ensures Python output is unbuffered.</li> <li><code>ASPNETCORE_URLS</code>: Specifies ASP.NET Core server bind address.</li> <li><code>PYTHONPATH</code>: Adds Python libraries to runtime path.</li> <li><code>PATH</code>: Prepends Python virtual environment binaries.</li> <li><code>ZILEAN_PYTHON_PYLIB</code>: Full path to the Python shared object.</li> <li><code>Zilean__Database__ConnectionString</code>: Connection string for PostgreSQL.</li> </ul>"},{"location":"services/zilean/#-branch--version-targeting","title":"\u2699\ufe0f Branch / Version Targeting","text":"<p>You can control which version or branch of Zilean is deployed by setting:</p> <ul> <li><code>branch_enabled: true</code> and specifying a <code>branch</code></li> <li>or <code>release_version_enabled: true</code> and specifying a <code>release_version</code></li> </ul>"},{"location":"services/zilean/#-tips","title":"\ud83e\udde0 Tips","text":"<ul> <li>Zilean uses both Python and .NET, so startup may take a few seconds.</li> <li>Logs from Zilean can be accessed via DMB\u2019s unified log API or directly from <code>/log/zilean.log</code>.</li> <li>If Zilean fails to bind, check for existing services on port <code>8182</code>.</li> <li>Use the <code>clear_on_update</code> and <code>exclude_dirs</code> settings to preserve persistent data.</li> </ul>"},{"location":"services/zilean/#-resources","title":"\ud83d\udcda Resources","text":"<ul> <li>Zilean GitHub Repository</li> </ul>"},{"location":"services/zurg/","title":"Zurg","text":"<p>Zurg is the debrid content fetcher that powers file discovery and caching for DMB. It mounts content made available by debrid services like Real-Debrid and exposes them over WebDAV for rclone to access. Zurg is designed to run quietly in the background and can be configured to run multiple instances.</p> <p>Current Debrid Support</p> <p>As of this posting, Zurg only supports Real-Debrid. Additional debrid services may be supported in future updates.</p>"},{"location":"services/zurg/#-zurg-repositories","title":"\ud83d\udd00 Zurg Repositories","text":"<p>There are two official Zurg repositories:</p> <ul> <li><code>zurg-testing</code> \u2013 The default public repo used by DMB. It contains stable builds accessible to all users.</li> <li><code>zurg</code> \u2013 The sponsored-only repo that includes the latest features, nightly builds, and premium support. DMB can access it by setting the <code>DMB_GITHUB_TOKEN</code> and changing the <code>repo_name</code> to <code>zurg</code>.</li> </ul>"},{"location":"services/zurg/#-configuration-in-dmb_configjson","title":"\u2699\ufe0f Configuration in <code>dmb_config.json</code>","text":"<p>Zurg is configured using the <code>instances</code> model to support multiple debrid services (e.g., RealDebrid, AllDebrid, Premiumize).</p> <pre><code>\"zurg\": {\n  \"instances\": {\n    \"RealDebrid\": {\n      \"enabled\": true,\n      \"process_name\": \"Zurg w/ RealDebrid\",\n      \"repo_owner\": \"debridmediamanager\",\n      \"repo_name\": \"zurg-testing\",\n      \"release_version_enabled\": false,\n      \"release_version\": \"v0.9.3-final\",\n      \"suppress_logging\": false,\n      \"log_level\": \"INFO\",\n      \"host\": \"127.0.0.1\",\n      \"port\": 9090,\n      \"auto_update\": false,\n      \"auto_update_interval\": 1,\n      \"clear_on_update\": false,\n      \"exclude_dirs\": [\"/zurg/RD\"],\n      \"key_type\": \"RealDebrid\",\n      \"config_dir\": \"/zurg/RD\",\n      \"config_file\": \"/zurg/RD/config.yml\",\n      \"command\": \"/zurg/RD/zurg\",\n      \"user\": \"\",\n      \"password\": \"\",\n      \"api_key\": \"\"\n    }\n  }\n}\n</code></pre>"},{"location":"services/zurg/#-configuration-key-descriptions","title":"\ud83d\udd0d Configuration Key Descriptions","text":"<ul> <li><code>enabled</code>: Whether to start the Zurg instance.</li> <li><code>process_name</code>: Label used for log files and process display.</li> <li><code>repo_owner</code> / <code>repo_name</code>: GitHub repo to pull Zurg from.</li> <li><code>release_version_enabled</code> / <code>release_version</code>: Use a specific release tag if enabled.</li> <li><code>suppress_logging</code>: If <code>true</code>, disables log output for this service.</li> <li><code>log_level</code>: Logging verbosity level (e.g., <code>DEBUG</code>, <code>INFO</code>).</li> <li><code>host</code> / <code>port</code>: IP/Port to serve the WebDAV interface.</li> <li><code>auto_update</code>: Enables automatic self-updates.</li> <li><code>auto_update_interval</code>: How often (in hours) to check for updates.</li> <li><code>clear_on_update</code>: Clears build artifacts or cache during updates.</li> <li><code>exclude_dirs</code>: Prevents specific directories from being affected by updates when using <code>clear_on_update</code></li> <li><code>key_type</code>: Debrid service this Zurg instance connects to (<code>RealDebrid</code>, <code>AllDebrid</code>, etc).</li> <li><code>config_dir</code> / <code>config_file</code>: Location of the Zurg YAML config.</li> <li><code>command</code>: Full path to the Zurg binary.</li> <li><code>user</code> / <code>password</code>: Optional basic auth credentials for WebDAV.</li> <li><code>api_key</code>: Debrid API key (used by Zurg for account authentication).</li> </ul>"},{"location":"services/zurg/#-branch--version-targeting","title":"\u2699\ufe0f Branch / Version Targeting","text":"<p>You can control which version or branch of Zurg is deployed by setting:</p> <ul> <li><code>branch_enabled: true</code> and specifying a <code>branch</code></li> <li>or <code>release_version_enabled: true</code> and specifying a <code>release_version</code></li> </ul>"},{"location":"services/zurg/#-adding-multiple-zurg-instances","title":"\u2795 Adding Multiple Zurg Instances","text":"<p>You can define additional instances in the same <code>zurg.instances</code> block by copying the structure and:</p> <ul> <li>Each <code>instance name</code> is unique</li> <li>Each <code>process_name</code> is unique</li> <li>Each <code>config_dir</code> is unique</li> <li>Each <code>port</code> is unique</li> <li>The <code>key_type</code> must match the type of Debrid service used - Limited to <code>RealDebrid</code> until Zurg adds support for others</li> </ul> <p>Example: <pre><code>\"zurg\": {\n    \"instances\": {\n        \"RealDebrid\": {\n            \"enabled\": true,\n            \"process_name\": \"Zurg w/ RealDebrid\",\n            \"repo_owner\": \"debridmediamanager\",\n            \"repo_name\": \"zurg-testing\",\n            \"release_version_enabled\": false,\n            \"release_version\": \"v0.9.3-final\",\n            \"suppress_logging\": false,\n            \"log_level\": \"INFO\",\n            \"host\": \"127.0.0.1\",\n            \"port\": 9090,\n            \"auto_update\": false,\n            \"auto_update_interval\": 1,\n            \"clear_on_update\": false,\n            \"exclude_dirs\": [\"/zurg/RD\"],\n            \"key_type\": \"RealDebrid\",\n            \"config_dir\": \"/zurg/RD\",\n            \"config_file\": \"/zurg/RD/config.yml\",\n            \"command\": \"/zurg/RD/zurg\",\n            \"user\": \"\",\n            \"password\": \"\",\n            \"api_key\": \"\"\n        },\n        \"RealDebrid_2\": {\n            \"enabled\": true,\n            \"process_name\": \"Zurg w/ RealDebrid 2\",\n            \"repo_owner\": \"debridmediamanager\",\n            \"repo_name\": \"zurg-testing\",\n            \"release_version_enabled\": false,\n            \"release_version\": \"v0.9.3-final\",\n            \"suppress_logging\": false,\n            \"log_level\": \"INFO\",\n            \"host\": \"127.0.0.1\",\n            \"port\": 9091,\n            \"auto_update\": false,\n            \"auto_update_interval\": 1,\n            \"clear_on_update\": false,\n            \"exclude_dirs\": [\"/zurg/RD2\"],\n            \"key_type\": \"RealDebrid\",\n            \"config_dir\": \"/zurg/RD2\",\n            \"config_file\": \"/zurg/RD2/config.yml\",\n            \"command\": \"/zurg/RD2/zurg\",\n            \"user\": \"\",\n            \"password\": \"\",\n            \"api_key\": \"\"\n        }            \n    }\n}    \n</code></pre></p>"},{"location":"services/zurg/#-tips","title":"\ud83e\udde0 Tips","text":"<ul> <li>The Zurg WebDAV endpoint will be used by rclone to mount files</li> <li>Always set the correct <code>api_key</code> to avoid auth issues</li> <li>Avoid using the same port or overlapping directories across instances</li> </ul>"},{"location":"services/zurg/#-resources","title":"\ud83d\udcda Resources","text":"<ul> <li>Zurg Testing (default repo)</li> <li>Zurg (premium repo)</li> <li>DMB GitHub Token Setup</li> </ul>"}]}